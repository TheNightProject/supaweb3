import{r as k,c as m,i as J,b as o,f as t,d as i,t as n,n as v,w as P,s as V,u as _,F as I,g as N,h as r,e as D,q as O,l as K}from"./vue.esm-bundler-DxM0YtBV.js";import{_ as Q}from"./Web3Icon-CMoc-ptT.js";const W={class:"mb-6 flex items-center justify-between"},X={class:"text-xl font-semibold text-gray-900 dark:text-white"},Z={key:0,class:"mt-1 text-sm text-gray-600 dark:text-gray-400"},ee={key:0,class:"flex items-center space-x-2"},te=["disabled"],ae={key:0,class:"mb-6 space-y-4"},se={class:"flex flex-wrap gap-4"},re={class:"flex items-center space-x-2"},oe={class:"flex items-center space-x-2"},le={key:0,class:"flex items-center space-x-2"},ne={class:"space-y-3"},ie={key:0,class:"space-y-3"},de={key:1,class:"py-12 text-center"},ue={class:"mb-2 text-lg font-medium text-gray-900 dark:text-white"},ce={class:"text-gray-600 dark:text-gray-400"},ge=["onClick"],ye={class:"flex items-center justify-between"},me={class:"flex items-center space-x-3"},pe={class:"flex-1"},ve={class:"flex items-center space-x-2"},fe={class:"font-medium text-gray-900 dark:text-white"},be={class:"mt-1 flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400"},xe={key:0},ke={key:1},he={class:"flex items-center space-x-3"},we={class:"text-right"},Ce={key:1,class:"text-sm text-gray-600 dark:text-gray-400"},Pe=["onClick"],Ve={key:0,class:"mt-3 pt-3 border-t border-gray-100 dark:border-gray-700"},_e={class:"text-sm text-gray-600 dark:text-gray-400"},Se={key:1,class:"mt-6 flex items-center justify-between"},Te={class:"text-sm text-gray-600 dark:text-gray-400"},$e={class:"flex items-center space-x-2"},Be=["disabled"],Ie={class:"px-3 py-1 text-sm"},Ne=["disabled"],De={__name:"TransactionHistory",props:{transactions:{type:Array,default:()=>[]},title:{type:String,default:"Transaction History"},subtitle:{type:String,default:""},loading:{type:Boolean,default:!1},loadingCount:{type:Number,default:5},showFilters:{type:Boolean,default:!0},showChainFilter:{type:Boolean,default:!0},showChainIcons:{type:Boolean,default:!0},showExplorerLink:{type:Boolean,default:!0},showRefresh:{type:Boolean,default:!0},showPagination:{type:Boolean,default:!0},itemsPerPage:{type:Number,default:10},emptyTitle:{type:String,default:"No transactions found"},emptyDescription:{type:String,default:"Your transaction history will appear here."},explorerBaseUrl:{type:String,default:"https://etherscan.io/tx/"},className:{type:String,default:""}},emits:["transaction-click","refresh","explorer-click"],setup(l,{emit:F}){const d=l,h=F,c=k(""),g=k(""),y=k(""),u=k(1),f=m(()=>{let a=d.transactions;return c.value&&(a=a.filter(e=>e.status===c.value)),g.value&&(a=a.filter(e=>e.type===g.value)),y.value&&(a=a.filter(e=>e.chain===y.value)),a}),b=m(()=>f.value.length),x=m(()=>d.showPagination?Math.ceil(b.value/d.itemsPerPage):1),w=m(()=>d.showPagination?(u.value-1)*d.itemsPerPage:0),S=m(()=>d.showPagination?Math.min(w.value+d.itemsPerPage,b.value):b.value),M=m(()=>d.showPagination?f.value.slice(w.value,S.value):f.value),A=m(()=>c.value||g.value||y.value),U=a=>({send:"IconArrowUp",receive:"IconArrowDown",swap:"IconArrowsUpDown",contract:"IconCode",mint:"IconPlus",stake:"IconLock"})[a.type]||"IconCircle",j=a=>({send:"bg-red-100 text-red-600 dark:bg-red-900/20 dark:text-red-400",receive:"bg-green-100 text-green-600 dark:bg-green-900/20 dark:text-green-400",swap:"bg-blue-100 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400",contract:"bg-purple-100 text-purple-600 dark:bg-purple-900/20 dark:text-purple-400",mint:"bg-yellow-100 text-yellow-600 dark:bg-yellow-900/20 dark:text-yellow-400",stake:"bg-indigo-100 text-indigo-600 dark:bg-indigo-900/20 dark:text-indigo-400"})[a.type]||"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400",H=a=>({pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",confirmed:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",failed:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"})[a]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-400",L=a=>({send:`Send ${a.symbol||""}`,receive:`Receive ${a.symbol||""}`,swap:`Swap ${a.fromSymbol||""} â†’ ${a.toSymbol||""}`,contract:"Contract Interaction",mint:`Mint ${a.symbol||""}`,stake:`Stake ${a.symbol||""}`})[a.type]||"Transaction",E=a=>a.amount?`${a.type==="receive"||a.type==="mint"?"+":"-"}${a.amount} ${a.symbol||""}`:"",R=a=>{if(!a)return"";const e=new Date(a),p=new Date-e,C=Math.floor(p/6e4),$=Math.floor(p/36e5),B=Math.floor(p/864e5);return C<1?"Just now":C<60?`${C}m ago`:$<24?`${$}h ago`:B<7?`${B}d ago`:e.toLocaleDateString()},z=()=>{c.value="",g.value="",y.value="",u.value=1},T=a=>{a>=1&&a<=x.value&&(u.value=a)},Y=a=>{h("transaction-click",a)},q=()=>{h("refresh")},G=a=>{const e=`${d.explorerBaseUrl}${a.hash}`;window.open(e,"_blank"),h("explorer-click",{transaction:a,url:e})};return J([c,g,y],()=>{u.value=1}),(a,e)=>(r(),o("div",{class:v(["transaction-history",l.className])},[t("div",W,[t("div",null,[t("h2",X,n(l.title),1),l.subtitle?(r(),o("p",Z,n(l.subtitle),1)):i("",!0)]),l.showRefresh?(r(),o("div",ee,[t("button",{onClick:q,disabled:l.loading,class:"rounded-lg p-2 text-gray-600 transition-colors hover:bg-gray-100 disabled:opacity-50 dark:text-gray-400 dark:hover:bg-gray-700"},[(r(),o("svg",{class:v(["h-5 w-5 transition-transform",l.loading?"animate-spin":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...e[5]||(e[5]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])],2))],8,te)])):i("",!0)]),l.showFilters?(r(),o("div",ae,[t("div",se,[t("div",re,[e[7]||(e[7]=t("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"}," Status: ",-1)),P(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>c.value=s),class:"rounded border border-gray-300 px-3 py-1 text-sm focus:border-blue-500 focus:outline-none dark:border-gray-600 dark:bg-gray-700 dark:text-white"},[...e[6]||(e[6]=[t("option",{value:""},"All",-1),t("option",{value:"pending"},"Pending",-1),t("option",{value:"confirmed"},"Confirmed",-1),t("option",{value:"failed"},"Failed",-1)])],512),[[V,c.value]])]),t("div",oe,[e[9]||(e[9]=t("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"}," Type: ",-1)),P(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>g.value=s),class:"rounded border border-gray-300 px-3 py-1 text-sm focus:border-blue-500 focus:outline-none dark:border-gray-600 dark:bg-gray-700 dark:text-white"},[...e[8]||(e[8]=[_('<option value="">All</option><option value="send">Send</option><option value="receive">Receive</option><option value="swap">Swap</option><option value="contract">Contract</option><option value="mint">Mint</option><option value="stake">Stake</option>',7)])],512),[[V,g.value]])]),l.showChainFilter?(r(),o("div",le,[e[11]||(e[11]=t("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"}," Chain: ",-1)),P(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>y.value=s),class:"rounded border border-gray-300 px-3 py-1 text-sm focus:border-blue-500 focus:outline-none dark:border-gray-600 dark:bg-gray-700 dark:text-white"},[...e[10]||(e[10]=[_('<option value="">All</option><option value="ethereum">Ethereum</option><option value="polygon">Polygon</option><option value="arbitrum">Arbitrum</option><option value="optimism">Optimism</option><option value="base">Base</option>',6)])],512),[[V,y.value]])])):i("",!0),A.value?(r(),o("button",{key:1,onClick:z,class:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300"}," Clear filters ")):i("",!0)])])):i("",!0),t("div",ne,[l.loading?(r(),o("div",ie,[(r(!0),o(I,null,N(l.loadingCount,s=>(r(),o("div",{key:`skeleton-${s}`,class:"animate-pulse rounded-lg border border-gray-200 p-4 dark:border-gray-700"},[...e[12]||(e[12]=[_('<div class="flex items-center justify-between"><div class="flex items-center space-x-3"><div class="h-10 w-10 rounded-full bg-gray-200 dark:bg-gray-700"></div><div class="space-y-2"><div class="h-4 w-32 bg-gray-200 dark:bg-gray-700"></div><div class="h-3 w-24 bg-gray-200 dark:bg-gray-700"></div></div></div><div class="h-4 w-20 bg-gray-200 dark:bg-gray-700"></div></div>',1)])]))),128))])):f.value.length===0?(r(),o("div",de,[e[13]||(e[13]=t("div",{class:"mb-4 text-4xl"},"ðŸ“‹",-1)),t("h3",ue,n(l.emptyTitle),1),t("p",ce,n(l.emptyDescription),1)])):(r(!0),o(I,{key:2},N(M.value,s=>(r(),o("div",{key:s.hash,class:"group cursor-pointer rounded-lg border border-gray-200 p-4 transition-all duration-200 hover:border-gray-300 hover:shadow-sm dark:border-gray-700 dark:hover:border-gray-600",onClick:p=>Y(s)},[t("div",ye,[t("div",me,[t("div",{class:v(["flex h-10 w-10 items-center justify-center rounded-full",j(s)])},[(r(),D(O(U(s)),{class:"h-5 w-5"}))],2),t("div",pe,[t("div",ve,[t("span",fe,n(L(s)),1),t("span",{class:v(["rounded-full px-2 py-0.5 text-xs font-medium",H(s.status)])},n(s.status),3),l.showChainIcons&&s.chain?(r(),D(Q,{key:0,type:"networks",symbol:s.chain,size:16,class:"opacity-60"},null,8,["symbol"])):i("",!0)]),t("div",be,[t("span",null,n(R(s.timestamp)),1),s.gasUsed?(r(),o("span",xe," Gas: "+n(s.gasUsed),1)):i("",!0),s.blockNumber?(r(),o("span",ke," Block: "+n(s.blockNumber),1)):i("",!0)])])]),t("div",he,[t("div",we,[s.amount?(r(),o("div",{key:0,class:v(["font-medium",s.type==="receive"||s.type==="mint"?"text-green-600 dark:text-green-400":"text-gray-900 dark:text-white"])},n(E(s)),3)):i("",!0),s.usdValue?(r(),o("div",Ce," $"+n(s.usdValue),1)):i("",!0)]),l.showExplorerLink?(r(),o("button",{key:0,onClick:K(p=>G(s),["stop"]),class:"rounded p-1 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600 dark:hover:bg-gray-700 dark:hover:text-gray-300",title:"View on block explorer"},[...e[14]||(e[14]=[t("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1)])],8,Pe)):i("",!0)])]),s.details?(r(),o("div",Ve,[t("div",_e,n(s.details),1)])):i("",!0)],8,ge))),128))]),l.showPagination&&x.value>1?(r(),o("div",Se,[t("div",Te," Showing "+n(w.value+1)+"-"+n(S.value)+" of "+n(b.value)+" transactions ",1),t("div",$e,[t("button",{onClick:e[3]||(e[3]=s=>T(u.value-1)),disabled:u.value===1,class:"rounded border border-gray-300 px-3 py-1 text-sm transition-colors hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed dark:border-gray-600 dark:hover:bg-gray-700"}," Previous ",8,Be),t("span",Ie," Page "+n(u.value)+" of "+n(x.value),1),t("button",{onClick:e[4]||(e[4]=s=>T(u.value+1)),disabled:u.value===x.value,class:"rounded border border-gray-300 px-3 py-1 text-sm transition-colors hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed dark:border-gray-600 dark:hover:bg-gray-700"}," Next ",8,Ne)])])):i("",!0)],2))}};De.__docgenInfo={exportName:"default",displayName:"TransactionHistory",description:"",tags:{},props:[{name:"transactions",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"title",type:{name:"string"},defaultValue:{func:!1,value:"'Transaction History'"}},{name:"subtitle",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"loading",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"loadingCount",type:{name:"number"},defaultValue:{func:!1,value:"5"}},{name:"showFilters",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"showChainFilter",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"showChainIcons",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"showExplorerLink",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"showRefresh",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"showPagination",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"itemsPerPage",type:{name:"number"},defaultValue:{func:!1,value:"10"}},{name:"emptyTitle",type:{name:"string"},defaultValue:{func:!1,value:"'No transactions found'"}},{name:"emptyDescription",type:{name:"string"},defaultValue:{func:!1,value:"'Your transaction history will appear here.'"}},{name:"explorerBaseUrl",type:{name:"string"},defaultValue:{func:!1,value:"'https://etherscan.io/tx/'"}},{name:"className",type:{name:"string"},defaultValue:{func:!1,value:"''"}}],events:[{name:"transaction-click"},{name:"refresh"},{name:"explorer-click"}],sourceFiles:["/Users/steve/Projects/tnp.web.supaweb3/packages/ui/src/components/transactions/TransactionHistory.vue"]};export{De as _};
