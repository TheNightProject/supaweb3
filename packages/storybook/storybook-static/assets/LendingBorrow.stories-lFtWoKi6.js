import{r as B,c as $,b as u,f as t,d as m,t as o,n as f,p as oe,w as C,v as L,F as yt,g as bt,h as d}from"./vue.esm-bundler-DxM0YtBV.js";const se={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700"},re={class:"p-6"},ne={class:"flex justify-between items-start mb-6"},le={class:"text-xl font-bold text-gray-900 dark:text-white"},ie={key:0,class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},ue={key:0,class:"text-right"},de={class:"text-xs text-gray-500 dark:text-gray-400"},pe={key:0,class:"mb-6"},ce={class:"flex justify-between items-center mb-2"},me={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2"},ye={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},be={class:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 p-4 rounded-lg border border-green-200 dark:border-green-800"},ge={class:"text-2xl font-bold text-green-600 dark:text-green-400"},he={class:"text-xs text-green-600 dark:text-green-400"},we={class:"bg-gradient-to-r from-red-50 to-pink-50 dark:from-red-900/20 dark:to-pink-900/20 p-4 rounded-lg border border-red-200 dark:border-red-800"},ve={class:"text-2xl font-bold text-red-600 dark:text-red-400"},fe={class:"text-xs text-red-600 dark:text-red-400"},xe={class:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800"},ke={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},Se={class:"flex bg-gray-100 dark:bg-gray-700 p-1 rounded-lg mb-6"},Ae={key:1,class:"space-y-6"},Be={class:"relative"},Fe={class:"flex items-center space-x-3"},Te={class:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-sm"},Ve={class:"font-medium text-gray-900 dark:text-white"},Pe={class:"text-sm text-gray-500 dark:text-gray-400"},De={class:"relative"},_e=["placeholder","disabled"],He={class:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1"},Ue={key:0},$e={key:0,class:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border border-green-200 dark:border-green-800"},Ce={class:"space-y-2 text-sm"},Le={class:"flex justify-between"},Me={class:"font-medium"},Ee={class:"flex justify-between"},Re={class:"font-medium"},qe={class:"flex justify-between"},Ye={class:"font-medium text-green-600 dark:text-green-400"},je={key:2,class:"space-y-6"},ze={class:"relative"},We={class:"flex items-center space-x-3"},Ne={class:"w-8 h-8 bg-gradient-to-r from-red-500 to-pink-600 rounded-full flex items-center justify-center text-white font-bold text-sm"},Ie={class:"font-medium text-gray-900 dark:text-white"},Ke={class:"text-sm text-gray-500 dark:text-gray-400"},Oe={class:"text-right"},Xe={class:"text-sm font-medium text-red-600 dark:text-red-400"},Ge={class:"relative"},Je=["placeholder","disabled"],Qe={class:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1"},Ze={key:0},ta={key:0,class:"space-y-4"},ea={class:"flex justify-between items-center mb-2"},aa={class:"text-xs text-gray-600 dark:text-gray-400"},oa={class:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg"},sa={class:"space-y-2 text-sm"},ra={class:"flex justify-between"},na={class:"font-medium"},la={class:"flex justify-between"},ia={class:"font-medium"},ua={class:"flex justify-between"},da={class:"font-medium text-red-600 dark:text-red-400"},pa={key:1,class:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg border border-red-200 dark:border-red-800"},ca={class:"flex items-start space-x-3"},ma={class:"text-sm text-red-700 dark:text-red-400 mt-1"},ya={key:3,class:"space-y-6"},ba={key:0},ga={class:"space-y-3"},ha=["onClick"],wa={class:"flex justify-between items-center"},va={class:"flex items-center space-x-3"},fa={class:"w-8 h-8 bg-gradient-to-r from-red-500 to-pink-600 rounded-full flex items-center justify-center text-white font-bold text-sm"},xa={class:"font-medium text-gray-900 dark:text-white"},ka={class:"text-sm text-gray-500 dark:text-gray-400"},Sa={class:"text-right"},Aa={class:"font-semibold text-gray-900 dark:text-white"},Ba={class:"text-sm text-red-600 dark:text-red-400"},Fa={key:1},Ta={class:"relative"},Va=["max","placeholder","disabled"],Pa={class:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1"},Da={key:4,class:"space-y-6"},_a={key:0},Ha={class:"space-y-3"},Ua=["onClick"],$a={class:"flex justify-between items-center"},Ca={class:"flex items-center space-x-3"},La={class:"w-8 h-8 bg-gradient-to-r from-green-500 to-blue-600 rounded-full flex items-center justify-center text-white font-bold text-sm"},Ma={class:"font-medium text-gray-900 dark:text-white"},Ea={class:"text-sm text-gray-500 dark:text-gray-400"},Ra={class:"text-right"},qa={class:"font-semibold text-gray-900 dark:text-white"},Ya={class:"text-sm text-green-600 dark:text-green-400"},ja={key:1},za={class:"relative"},Wa=["max","placeholder","disabled"],Na={class:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1"},Ia={class:"mt-6"},Ka=["disabled"],Oa={key:0,class:"w-5 h-5 border-2 border-gray-300 border-t-gray-600 rounded-full animate-spin"},Xa={key:5,class:"mt-4 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},Ga={class:"text-sm text-gray-600 dark:text-gray-400 space-y-1"},Ja={class:"flex justify-between"},Qa={key:0,class:"flex justify-between"},Za={key:1,class:"flex justify-between text-green-600 dark:text-green-400"},to={key:6,class:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700"},eo={class:"space-y-3 text-sm"},ao={class:"flex justify-between"},oo={class:"font-medium text-gray-900 dark:text-white"},so={class:"flex justify-between"},ro={class:"font-medium text-gray-900 dark:text-white"},no={class:"flex justify-between"},lo={class:"font-medium text-gray-900 dark:text-white"},N={__name:"LendingBorrow",props:{title:{type:String,default:"Lending & Borrowing"},subtitle:{type:String,default:"Supply assets to earn interest or borrow against your collateral"},accountHealth:{type:Object,default:()=>({factor:"2.45"})},totalSupplied:{type:String,default:"0"},totalBorrowed:{type:String,default:"0"},availableToBorrow:{type:String,default:"0"},supplyAPY:{type:String,default:"0"},borrowAPY:{type:String,default:"0"},suppliedAssets:{type:Array,default:()=>[]},borrowedAssets:{type:Array,default:()=>[]},supplyTokens:{type:Array,default:()=>[]},borrowTokens:{type:Array,default:()=>[]},liquidationThreshold:{type:String,default:"85"},liquidationPenalty:{type:String,default:"5"},showHealthBar:{type:Boolean,default:!0},showTransactionSummary:{type:Boolean,default:!0},showRiskInfo:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},gasEstimate:{type:String,default:"15"},className:{type:String,default:""}},emits:["supply","borrow","repay","withdraw"],setup(a,{emit:i}){var G,J;const r=a,p=i,l=B("supply"),y=B(""),b=B(""),x=B(""),k=B(""),g=B(((G=r.supplyTokens)==null?void 0:G[0])||null),h=B(((J=r.borrowTokens)==null?void 0:J[0])||null),w=B(null),v=B(null),K=B(""),zt=$(()=>l.value==="supply"?y.value&&parseFloat(y.value)>0:l.value==="borrow"?b.value&&parseFloat(b.value)>0:l.value==="repay"?x.value&&parseFloat(x.value)>0:l.value==="withdraw"?k.value&&parseFloat(k.value)>0:!1),S=$(()=>{var A,T,V;if(l.value!=="borrow"||!b.value)return parseFloat(((A=r.accountHealth)==null?void 0:A.factor)||"2.45");parseFloat(((T=r.accountHealth)==null?void 0:T.factor)||"2.45");const s=parseFloat(b.value)*(((V=h.value)==null?void 0:V.price)||1),e=parseFloat(r.totalBorrowed||"0")+s,c=parseFloat(r.totalSupplied||"1000");return Math.max(.1,c*.8/Math.max(1,e))}),O=$(()=>{var s,e,c;return r.loading?!0:l.value==="supply"?!y.value||!g.value||parseFloat(y.value)<=0||parseFloat(y.value)>parseFloat(((s=g.value)==null?void 0:s.balance)||"0"):l.value==="borrow"?!b.value||!h.value||parseFloat(b.value)<=0||S.value<1:l.value==="repay"?!x.value||!w.value||parseFloat(x.value)<=0||parseFloat(x.value)>parseFloat(((e=w.value)==null?void 0:e.borrowed)||"0"):l.value==="withdraw"?!k.value||!v.value||parseFloat(k.value)<=0||parseFloat(k.value)>parseFloat(((c=v.value)==null?void 0:c.availableToWithdraw)||"0"):!1}),Wt=$(()=>{var A,T,V,D;if(r.loading)return{supply:"Supplying...",borrow:"Borrowing...",repay:"Repaying...",withdraw:"Withdrawing..."}[l.value];const s=l.value,e={supply:y.value,borrow:b.value,repay:x.value,withdraw:k.value},c={supply:(A=g.value)==null?void 0:A.symbol,borrow:(T=h.value)==null?void 0:T.symbol,repay:(V=w.value)==null?void 0:V.symbol,withdraw:(D=v.value)==null?void 0:D.symbol};return e[s]&&c[s]?`${s.charAt(0).toUpperCase()+s.slice(1)} ${e[s]} ${c[s]}`:`Enter Amount to ${s.charAt(0).toUpperCase()+s.slice(1)}`}),H=s=>{const e=parseFloat(s);return e>=2?"text-green-600 dark:text-green-400":e>=1.5?"text-yellow-600 dark:text-yellow-400":e>=1.2?"text-orange-600 dark:text-orange-400":"text-red-600 dark:text-red-400"},Nt=s=>{const e=parseFloat(s);return e>=2?"Very Safe":e>=1.5?"Safe":e>=1.2?"Moderate Risk":"High Risk"},It=s=>{const e=parseFloat(s);return e>=2?"bg-green-500":e>=1.5?"bg-yellow-500":e>=1.2?"bg-orange-500":"bg-red-500"},Kt=()=>({supply:"bg-green-500 text-white hover:bg-green-600",borrow:"bg-red-500 text-white hover:bg-red-600",repay:"bg-green-500 text-white hover:bg-green-600",withdraw:"bg-blue-500 text-white hover:bg-blue-600"})[l.value]||"bg-gray-500 text-white",Ot=()=>{var s;y.value=((s=g.value)==null?void 0:s.balance)||"0"},Xt=()=>{var c;const e=(parseFloat(r.availableToBorrow||"0")*.8/(((c=h.value)==null?void 0:c.price)||1)).toFixed(6);b.value=e},Gt=()=>{var c,A;const s=parseFloat(((c=w.value)==null?void 0:c.borrowed)||"0"),e=parseFloat(((A=w.value)==null?void 0:A.walletBalance)||"0");x.value=Math.min(s,e).toFixed(6)},Jt=()=>{var s;k.value=((s=v.value)==null?void 0:s.availableToWithdraw)||"0"},Qt=s=>{w.value=s,x.value=""},Zt=s=>{v.value=s,k.value=""},X=()=>{if(!y.value||!g.value)return"0";const s=parseFloat(y.value)*g.value.price,e=parseFloat(g.value.collateralFactor||"75")/100;return P(s*e)},te=()=>{if(!b.value||!h.value)return"0";const s=parseFloat(b.value)*h.value.price,e=parseFloat(h.value.borrowAPY||"0")/100,c=s*e/12;return P(c)},ee=()=>{var e;const s={supply:()=>p("supply",{token:g.value,amount:y.value}),borrow:()=>p("borrow",{token:h.value,amount:b.value,healthFactor:S.value}),repay:()=>p("repay",{token:w.value,amount:x.value}),withdraw:()=>p("withdraw",{token:v.value,amount:k.value})};(e=s[l.value])==null||e.call(s)},P=s=>new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:2}).format(s);return(s,e)=>{var c,A,T,V,D,U,Q,Z,tt,et,at,ot,st,rt,nt,lt,it,ut,dt,pt,ct,mt;return d(),u("div",{class:f(["lending-borrow",a.className])},[t("div",se,[t("div",re,[t("div",ne,[t("div",null,[t("h2",le,o(a.title),1),a.subtitle?(d(),u("p",ie,o(a.subtitle),1)):m("",!0)]),a.accountHealth?(d(),u("div",ue,[e[10]||(e[10]=t("div",{class:"text-sm text-gray-600 dark:text-gray-400 mb-1"},"Health Factor",-1)),t("div",{class:f(["text-lg font-bold",H(a.accountHealth.factor)])},o(a.accountHealth.factor),3),t("div",de,o(Nt(a.accountHealth.factor)),1)])):m("",!0)]),a.accountHealth&&a.showHealthBar?(d(),u("div",pe,[t("div",ce,[e[11]||(e[11]=t("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"Account Health",-1)),t("span",{class:f(["text-sm font-medium",H(a.accountHealth.factor)])},o(a.accountHealth.factor),3)]),t("div",me,[t("div",{class:f(["h-2 rounded-full transition-all duration-500",It(a.accountHealth.factor)]),style:oe({width:`${Math.min(parseFloat(a.accountHealth.factor)*50,100)}%`})},null,6)]),e[12]||(e[12]=t("div",{class:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1"},[t("span",null,"Liquidation Risk"),t("span",null,"Safe")],-1))])):m("",!0),t("div",ye,[t("div",be,[e[13]||(e[13]=t("div",{class:"text-sm text-green-700 dark:text-green-300 mb-1"},"Total Supplied",-1)),t("div",ge," $"+o(a.totalSupplied||"0"),1),t("div",he," Earning "+o(a.supplyAPY||"0")+"% APY ",1)]),t("div",we,[e[14]||(e[14]=t("div",{class:"text-sm text-red-700 dark:text-red-300 mb-1"},"Total Borrowed",-1)),t("div",ve," $"+o(a.totalBorrowed||"0"),1),t("div",fe," Paying "+o(a.borrowAPY||"0")+"% APY ",1)]),t("div",xe,[e[15]||(e[15]=t("div",{class:"text-sm text-blue-700 dark:text-blue-300 mb-1"},"Available to Borrow",-1)),t("div",ke," $"+o(a.availableToBorrow||"0"),1),e[16]||(e[16]=t("div",{class:"text-xs text-blue-600 dark:text-blue-400"}," Based on collateral ",-1))])]),t("div",Se,[t("button",{onClick:e[0]||(e[0]=n=>l.value="supply"),class:f(["flex-1 py-2 px-4 rounded-md font-medium transition-colors",l.value==="supply"?"bg-white dark:bg-gray-800 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"])}," Supply ",2),t("button",{onClick:e[1]||(e[1]=n=>l.value="borrow"),class:f(["flex-1 py-2 px-4 rounded-md font-medium transition-colors",l.value==="borrow"?"bg-white dark:bg-gray-800 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"])}," Borrow ",2),t("button",{onClick:e[2]||(e[2]=n=>l.value="repay"),class:f(["flex-1 py-2 px-4 rounded-md font-medium transition-colors",l.value==="repay"?"bg-white dark:bg-gray-800 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"])}," Repay ",2),t("button",{onClick:e[3]||(e[3]=n=>l.value="withdraw"),class:f(["flex-1 py-2 px-4 rounded-md font-medium transition-colors",l.value==="withdraw"?"bg-white dark:bg-gray-800 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"])}," Withdraw ",2)]),l.value==="supply"?(d(),u("div",Ae,[t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Asset to Supply ",-1)),t("div",Be,[t("button",{onClick:e[4]||(e[4]=n=>K.value="supply"),class:"w-full flex items-center justify-between px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},[t("div",Fe,[t("div",Te,o(((A=(c=g.value)==null?void 0:c.symbol)==null?void 0:A.charAt(0))||"T"),1),t("div",null,[t("div",Ve,o(((T=g.value)==null?void 0:T.symbol)||"Select Token"),1),t("div",Pe," Balance: "+o(((V=g.value)==null?void 0:V.balance)||"0"),1)])]),e[17]||(e[17]=t("svg",{class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1))])])]),t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Amount to Supply ",-1)),t("div",De,[C(t("input",{"onUpdate:modelValue":e[5]||(e[5]=n=>y.value=n),type:"number",placeholder:`Enter ${((D=g.value)==null?void 0:D.symbol)||"token"} amount`,disabled:a.loading,class:"w-full px-4 py-3 pr-20 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:opacity-50"},null,8,_e),[[L,y.value]]),t("button",{onClick:Ot,class:"absolute right-3 top-3 text-sm font-medium text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300 transition-colors"}," MAX ")]),t("div",He,[t("span",null,"Wallet: "+o(((U=g.value)==null?void 0:U.balance)||"0")+" "+o((Q=g.value)==null?void 0:Q.symbol),1),y.value?(d(),u("span",Ue,"≈ $"+o(P(parseFloat(y.value)*(((Z=g.value)==null?void 0:Z.price)||0))),1)):m("",!0)])]),y.value&&parseFloat(y.value)>0?(d(),u("div",$e,[e[23]||(e[23]=t("div",{class:"text-sm font-medium text-green-900 dark:text-green-300 mb-2"},"Supply Details",-1)),t("div",Ce,[t("div",Le,[e[20]||(e[20]=t("span",{class:"text-green-700 dark:text-green-400"},"Supply APY:",-1)),t("span",Me,o(((tt=g.value)==null?void 0:tt.supplyAPY)||"0")+"%",1)]),t("div",Ee,[e[21]||(e[21]=t("span",{class:"text-green-700 dark:text-green-400"},"Collateral Factor:",-1)),t("span",Re,o(((et=g.value)==null?void 0:et.collateralFactor)||"75")+"%",1)]),t("div",qe,[e[22]||(e[22]=t("span",{class:"text-green-700 dark:text-green-400"},"New borrowing power:",-1)),t("span",Ye," +$"+o(X()),1)])])])):m("",!0)])):l.value==="borrow"?(d(),u("div",je,[t("div",null,[e[24]||(e[24]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Asset to Borrow ",-1)),t("div",ze,[t("button",{onClick:e[6]||(e[6]=n=>K.value="borrow"),class:"w-full flex items-center justify-between px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},[t("div",We,[t("div",Ne,o(((ot=(at=h.value)==null?void 0:at.symbol)==null?void 0:ot.charAt(0))||"T"),1),t("div",null,[t("div",Ie,o(((st=h.value)==null?void 0:st.symbol)||"Select Token"),1),t("div",Ke," Available: $"+o(((rt=h.value)==null?void 0:rt.available)||"0"),1)])]),t("div",Oe,[t("div",Xe,o(((nt=h.value)==null?void 0:nt.borrowAPY)||"0")+"% APY ",1)])])])]),t("div",null,[e[25]||(e[25]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Amount to Borrow ",-1)),t("div",Ge,[C(t("input",{"onUpdate:modelValue":e[7]||(e[7]=n=>b.value=n),type:"number",placeholder:`Enter ${((lt=h.value)==null?void 0:lt.symbol)||"token"} amount`,disabled:a.loading,class:"w-full px-4 py-3 pr-20 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:opacity-50"},null,8,Je),[[L,b.value]]),t("button",{onClick:Xt,class:"absolute right-3 top-3 text-sm font-medium text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 transition-colors"}," SAFE MAX ")]),t("div",Qe,[t("span",null,"Available: $"+o(a.availableToBorrow||"0"),1),b.value?(d(),u("span",Ze,"≈ $"+o(P(parseFloat(b.value)*(((it=h.value)==null?void 0:it.price)||0))),1)):m("",!0)])]),b.value&&parseFloat(b.value)>0?(d(),u("div",ta,[t("div",{class:f(["p-4 rounded-lg border",S.value>=1.5?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":S.value>=1.2?"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"])},[t("div",ea,[e[26]||(e[26]=t("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"New Health Factor",-1)),t("span",{class:f(["font-bold",H(S.value)])},o(S.value.toFixed(2)),3)]),t("div",aa," Current: "+o(((ut=a.accountHealth)==null?void 0:ut.factor)||"∞")+" → New: "+o(S.value.toFixed(2)),1)],2),t("div",oa,[e[30]||(e[30]=t("div",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Borrow Details",-1)),t("div",sa,[t("div",ra,[e[27]||(e[27]=t("span",{class:"text-gray-600 dark:text-gray-400"},"Borrow APY:",-1)),t("span",na,o(((dt=h.value)==null?void 0:dt.borrowAPY)||"0")+"%",1)]),t("div",la,[e[28]||(e[28]=t("span",{class:"text-gray-600 dark:text-gray-400"},"Liquidation threshold:",-1)),t("span",ia,o(((pt=h.value)==null?void 0:pt.liquidationThreshold)||"85")+"%",1)]),t("div",ua,[e[29]||(e[29]=t("span",{class:"text-gray-600 dark:text-gray-400"},"Monthly interest:",-1)),t("span",da," $"+o(te()),1)])])])])):m("",!0),S.value<1.2?(d(),u("div",pa,[t("div",ca,[e[32]||(e[32]=t("svg",{class:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)),t("div",null,[e[31]||(e[31]=t("div",{class:"font-medium text-red-800 dark:text-red-300"},"Liquidation Risk",-1)),t("div",ma," Your health factor will drop to "+o(S.value.toFixed(2))+", which is close to liquidation risk. Consider borrowing less or supplying more collateral. ",1)])])])):m("",!0)])):l.value==="repay"?(d(),u("div",ya,[((ct=a.borrowedAssets)==null?void 0:ct.length)>0?(d(),u("div",ba,[e[33]||(e[33]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"}," Your Borrowed Assets ",-1)),t("div",ga,[(d(!0),u(yt,null,bt(a.borrowedAssets,(n,I)=>{var _;return d(),u("div",{key:I,class:f(["p-4 border rounded-lg cursor-pointer transition-colors",((_=w.value)==null?void 0:_.symbol)===n.symbol?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"]),onClick:ae=>Qt(n)},[t("div",wa,[t("div",va,[t("div",fa,o(n.symbol.charAt(0)),1),t("div",null,[t("div",xa,o(n.symbol),1),t("div",ka," Borrowed: "+o(n.borrowed)+" ("+o(n.borrowAPY)+"% APY) ",1)])]),t("div",Sa,[t("div",Aa," $"+o(P(parseFloat(n.borrowed)*n.price)),1),t("div",Ba," $"+o(n.dailyInterest)+"/day interest ",1)])])],10,ha)}),128))])])):m("",!0),w.value?(d(),u("div",Fa,[e[34]||(e[34]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Amount to Repay ",-1)),t("div",Ta,[C(t("input",{"onUpdate:modelValue":e[8]||(e[8]=n=>x.value=n),type:"number",max:w.value.borrowed,placeholder:`Enter ${w.value.symbol} amount`,disabled:a.loading,class:"w-full px-4 py-3 pr-20 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:opacity-50"},null,8,Va),[[L,x.value]]),t("button",{onClick:Gt,class:"absolute right-3 top-3 text-sm font-medium text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300 transition-colors"}," MAX ")]),t("div",Pa,[t("span",null,"Borrowed: "+o(w.value.borrowed)+" "+o(w.value.symbol),1),t("span",null,"Wallet: "+o(w.value.walletBalance||"0")+" "+o(w.value.symbol),1)])])):m("",!0)])):l.value==="withdraw"?(d(),u("div",Da,[((mt=a.suppliedAssets)==null?void 0:mt.length)>0?(d(),u("div",_a,[e[35]||(e[35]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"}," Your Supplied Assets ",-1)),t("div",Ha,[(d(!0),u(yt,null,bt(a.suppliedAssets,(n,I)=>{var _;return d(),u("div",{key:I,class:f(["p-4 border rounded-lg cursor-pointer transition-colors",((_=v.value)==null?void 0:_.symbol)===n.symbol?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"]),onClick:ae=>Zt(n)},[t("div",$a,[t("div",Ca,[t("div",La,o(n.symbol.charAt(0)),1),t("div",null,[t("div",Ma,o(n.symbol),1),t("div",Ea," Supplied: "+o(n.supplied)+" ("+o(n.supplyAPY)+"% APY) ",1)])]),t("div",Ra,[t("div",qa," $"+o(P(parseFloat(n.supplied)*n.price)),1),t("div",Ya," $"+o(n.dailyEarnings)+"/day earnings ",1)])])],10,Ua)}),128))])])):m("",!0),v.value?(d(),u("div",ja,[e[36]||(e[36]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Amount to Withdraw ",-1)),t("div",za,[C(t("input",{"onUpdate:modelValue":e[9]||(e[9]=n=>k.value=n),type:"number",max:v.value.supplied,placeholder:`Enter ${v.value.symbol} amount`,disabled:a.loading,class:"w-full px-4 py-3 pr-20 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:opacity-50"},null,8,Wa),[[L,k.value]]),t("button",{onClick:Jt,class:"absolute right-3 top-3 text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors"}," SAFE MAX ")]),t("div",Na,[t("span",null,"Supplied: "+o(v.value.supplied)+" "+o(v.value.symbol),1),t("span",null,"Available: "+o(v.value.availableToWithdraw)+" "+o(v.value.symbol),1)])])):m("",!0)])):m("",!0),t("div",Ia,[t("button",{onClick:ee,disabled:O.value,class:f(["w-full py-4 rounded-lg font-semibold transition-colors flex items-center justify-center space-x-2",O.value?"bg-gray-200 text-gray-500 cursor-not-allowed dark:bg-gray-700 dark:text-gray-400":Kt()])},[a.loading?(d(),u("div",Oa)):m("",!0),t("span",null,o(Wt.value),1)],10,Ka)]),a.showTransactionSummary&&zt.value?(d(),u("div",Xa,[t("div",Ga,[t("div",Ja,[e[37]||(e[37]=t("span",null,"Gas estimate:",-1)),t("span",null,"~$"+o(a.gasEstimate||"15"),1)]),l.value==="borrow"?(d(),u("div",Qa,[e[38]||(e[38]=t("span",null,"Health factor after:",-1)),t("span",{class:f(H(S.value))},o(S.value.toFixed(2)),3)])):m("",!0),l.value==="supply"&&y.value?(d(),u("div",Za,[e[39]||(e[39]=t("span",null,"New borrowing power:",-1)),t("span",null,"+$"+o(X()),1)])):m("",!0)])])):m("",!0),a.showRiskInfo?(d(),u("div",to,[t("div",eo,[t("div",ao,[e[40]||(e[40]=t("span",{class:"text-gray-600 dark:text-gray-400"},"Liquidation threshold:",-1)),t("span",oo,o(a.liquidationThreshold||"85")+"%",1)]),t("div",so,[e[41]||(e[41]=t("span",{class:"text-gray-600 dark:text-gray-400"},"Liquidation penalty:",-1)),t("span",ro,o(a.liquidationPenalty||"5")+"%",1)]),t("div",no,[e[42]||(e[42]=t("span",{class:"text-gray-600 dark:text-gray-400"},"Used as collateral:",-1)),t("span",lo,"$"+o(P(a.totalSupplied)),1)])])])):m("",!0)])])],2)}}};N.__docgenInfo={exportName:"default",displayName:"LendingBorrow",description:"",tags:{},props:[{name:"title",type:{name:"string"},defaultValue:{func:!1,value:"'Lending & Borrowing'"}},{name:"subtitle",type:{name:"string"},defaultValue:{func:!1,value:"'Supply assets to earn interest or borrow against your collateral'"}},{name:"accountHealth",type:{name:"object"},defaultValue:{func:!1,value:`{
  factor: '2.45'
}`}},{name:"totalSupplied",type:{name:"string"},defaultValue:{func:!1,value:"'0'"}},{name:"totalBorrowed",type:{name:"string"},defaultValue:{func:!1,value:"'0'"}},{name:"availableToBorrow",type:{name:"string"},defaultValue:{func:!1,value:"'0'"}},{name:"supplyAPY",type:{name:"string"},defaultValue:{func:!1,value:"'0'"}},{name:"borrowAPY",type:{name:"string"},defaultValue:{func:!1,value:"'0'"}},{name:"suppliedAssets",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"borrowedAssets",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"supplyTokens",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"borrowTokens",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"liquidationThreshold",type:{name:"string"},defaultValue:{func:!1,value:"'85'"}},{name:"liquidationPenalty",type:{name:"string"},defaultValue:{func:!1,value:"'5'"}},{name:"showHealthBar",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"showTransactionSummary",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"showRiskInfo",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"loading",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"gasEstimate",type:{name:"string"},defaultValue:{func:!1,value:"'15'"}},{name:"className",type:{name:"string"},defaultValue:{func:!1,value:"''"}}],events:[{name:"supply"},{name:"borrow"},{name:"repay"},{name:"withdraw"}],sourceFiles:["/Users/steve/Projects/tnp.web.supaweb3/packages/ui/src/components/defi/LendingBorrow.vue"]};const uo={title:"DeFi/LendingBorrow",component:N,parameters:{layout:"centered",docs:{description:{component:"A comprehensive lending and borrowing interface with health factor monitoring, liquidation risk assessment, and multi-asset position management."}}},decorators:[()=>({template:'<div class="min-w-[600px] max-w-[900px]"><story /></div>'})],tags:["autodocs"],argTypes:{title:{control:"text",description:"Title of the lending platform"},subtitle:{control:"text",description:"Subtitle or description"},supplyAssets:{control:"object",description:"Available assets for supplying"},borrowAssets:{control:"object",description:"Available assets for borrowing"},userSupply:{control:"object",description:"User supplied positions"},userBorrow:{control:"object",description:"User borrowed positions"},accountHealth:{control:"object",description:"Account health metrics"},totalSupplied:{control:"text",description:"Total USD value supplied"},totalBorrowed:{control:"text",description:"Total USD value borrowed"},netAPY:{control:"text",description:"Net APY percentage"},showHealthWarnings:{control:"boolean",description:"Show health factor warnings"},showLiquidationRisk:{control:"boolean",description:"Show liquidation risk alerts"},loading:{control:"boolean",description:"Loading state"}}},F={args:{title:"Lending & Borrowing",subtitle:"Supply assets to earn interest and borrow against your collateral",supplyAssets:[{symbol:"ETH",name:"Ethereum",balance:"5.25",price:2500,supplyApy:"3.2",totalSupply:"1.2M",supplied:"0",collateralFactor:"0.8",ltv:"80",decimals:18},{symbol:"USDC",name:"USD Coin",balance:"15000",price:1,supplyApy:"4.5",totalSupply:"850M",supplied:"5000",collateralFactor:"0.85",ltv:"85",decimals:6},{symbol:"DAI",name:"Dai Stablecoin",balance:"8500",price:.999,supplyApy:"5.1",totalSupply:"120M",supplied:"0",collateralFactor:"0.85",ltv:"85",decimals:18}],borrowAssets:[{symbol:"ETH",name:"Ethereum",balance:"0",price:2500,borrowApy:"5.8",totalBorrow:"450K",borrowed:"0",availableToBorrow:"3.2",decimals:18},{symbol:"USDC",name:"USD Coin",balance:"0",price:1,borrowApy:"7.2",totalBorrow:"520M",borrowed:"1500",availableToBorrow:"2800",decimals:6},{symbol:"USDT",name:"Tether USD",balance:"0",price:1,borrowApy:"6.9",totalBorrow:"380M",borrowed:"0",availableToBorrow:"3200",decimals:6}],userSupply:[{symbol:"USDC",amount:"5000",usdValue:"5000",apy:"4.5"}],userBorrow:[{symbol:"USDC",amount:"1500",usdValue:"1500",apy:"7.2"}],accountHealth:{factor:"2.45",status:"healthy",collateralValue:"5000",borrowLimit:"4250",liquidationThreshold:"4500",utilizationRate:"35.3"},totalSupplied:"5000",totalBorrowed:"1500",netAPY:"1.8",showHealthWarnings:!0,showLiquidationRisk:!0,loading:!1}},M={args:{...F.args,title:"Safe Lending Position",subtitle:"Well-collateralized position with healthy metrics",userSupply:[{symbol:"ETH",amount:"4.0",usdValue:"10000",apy:"3.2"},{symbol:"USDC",amount:"5000",usdValue:"5000",apy:"4.5"}],userBorrow:[{symbol:"USDC",amount:"2000",usdValue:"2000",apy:"7.2"}],accountHealth:{factor:"5.85",status:"healthy",collateralValue:"15000",borrowLimit:"12750",liquidationThreshold:"13500",utilizationRate:"15.7"},totalSupplied:"15000",totalBorrowed:"2000",netAPY:"2.9"}},E={args:{...F.args,title:"Moderate Risk Position",subtitle:"Position approaching liquidation threshold - consider reducing risk",userSupply:[{symbol:"ETH",amount:"2.0",usdValue:"5000",apy:"3.2"}],userBorrow:[{symbol:"USDC",amount:"3500",usdValue:"3500",apy:"7.2"},{symbol:"USDT",amount:"800",usdValue:"800",apy:"6.9"}],accountHealth:{factor:"1.45",status:"warning",collateralValue:"5000",borrowLimit:"4250",liquidationThreshold:"4500",utilizationRate:"95.5"},totalSupplied:"5000",totalBorrowed:"4300",netAPY:"-2.1"}},R={args:{...F.args,title:"High Risk Position",subtitle:"URGENT: Position at risk of liquidation - take immediate action",userSupply:[{symbol:"ETH",amount:"2.0",usdValue:"5000",apy:"3.2"}],userBorrow:[{symbol:"USDC",amount:"4000",usdValue:"4000",apy:"7.2"},{symbol:"USDT",amount:"400",usdValue:"400",apy:"6.9"}],accountHealth:{factor:"1.12",status:"danger",collateralValue:"5000",borrowLimit:"4250",liquidationThreshold:"4500",utilizationRate:"97.8"},totalSupplied:"5000",totalBorrowed:"4400",netAPY:"-3.8"}},q={args:{...F.args,title:"Start Lending",subtitle:"Supply assets to begin earning interest and unlock borrowing",userSupply:[],userBorrow:[],accountHealth:{factor:"0",status:"none",collateralValue:"0",borrowLimit:"0",liquidationThreshold:"0",utilizationRate:"0"},totalSupplied:"0",totalBorrowed:"0",netAPY:"0"}},Y={args:{...F.args,title:"Supply Position",subtitle:"Earning interest on supplied assets with no borrowed positions",userSupply:[{symbol:"ETH",amount:"3.0",usdValue:"7500",apy:"3.2"},{symbol:"USDC",amount:"10000",usdValue:"10000",apy:"4.5"}],userBorrow:[],accountHealth:{factor:"∞",status:"healthy",collateralValue:"17500",borrowLimit:"14875",liquidationThreshold:"15750",utilizationRate:"0"},totalSupplied:"17500",totalBorrowed:"0",netAPY:"3.9"}},j={args:{...F.args,loading:!0}},z={render:()=>({components:{LendingBorrow:N},template:`
      <div class="space-y-6">
        <div class="text-center">
          <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">
            Interactive Lending & Borrowing
          </h3>
          <p class="text-sm text-gray-600 dark:text-gray-400">
            Supply collateral, borrow assets, and monitor your health factor
          </p>
        </div>

        <LendingBorrow
          :supply-assets="supplyAssets"
          :borrow-assets="borrowAssets"
          :user-supply="userSupply"
          :user-borrow="userBorrow"
          :account-health="accountHealth"
          :total-supplied="totalSupplied"
          :total-borrowed="totalBorrowed"
          :net-apy="netAPY"
          :loading="loading"
          title="Interactive Lending Platform"
          subtitle="Full-featured lending with real-time health monitoring"
          @supply="handleSupply"
          @withdraw="handleWithdraw"
          @borrow="handleBorrow"
          @repay="handleRepay"
          @approve="handleApprove"
        />

        <div v-if="lastAction" class="rounded-lg bg-gray-100 p-3 dark:bg-gray-800">
          <div class="text-sm font-medium text-gray-700 dark:text-gray-300">Last Action:</div>
          <pre class="mt-1 text-xs text-gray-600 dark:text-gray-400">{{ lastAction }}</pre>
        </div>
      </div>
    `,data(){return{supplyAssets:[{symbol:"ETH",name:"Ethereum",balance:"5.25",price:2500,supplyApy:"3.2",totalSupply:"1.2M",supplied:"2.0",collateralFactor:"0.8",ltv:"80",decimals:18},{symbol:"USDC",name:"USD Coin",balance:"15000",price:1,supplyApy:"4.5",totalSupply:"850M",supplied:"5000",collateralFactor:"0.85",ltv:"85",decimals:6}],borrowAssets:[{symbol:"ETH",name:"Ethereum",balance:"0",price:2500,borrowApy:"5.8",totalBorrow:"450K",borrowed:"0",availableToBorrow:"2.8",decimals:18},{symbol:"USDC",name:"USD Coin",balance:"0",price:1,borrowApy:"7.2",totalBorrow:"520M",borrowed:"1500",availableToBorrow:"4000",decimals:6}],userSupply:[{symbol:"ETH",amount:"2.0",usdValue:"5000",apy:"3.2"},{symbol:"USDC",amount:"5000",usdValue:"5000",apy:"4.5"}],userBorrow:[{symbol:"USDC",amount:"1500",usdValue:"1500",apy:"7.2"}],totalSupplied:"10000",totalBorrowed:"1500",netAPY:"2.3",loading:!1,lastAction:null}},computed:{accountHealth(){const a=parseFloat(this.totalSupplied),i=parseFloat(this.totalBorrowed);if(i===0)return{factor:"∞",status:"healthy",collateralValue:a.toString(),borrowLimit:(a*.85).toString(),liquidationThreshold:(a*.9).toString(),utilizationRate:"0"};const r=a*.8/i,p=i/(a*.85)*100;let l="healthy";return r<1.3?l="danger":r<2&&(l="warning"),{factor:r.toFixed(2),status:l,collateralValue:a.toString(),borrowLimit:(a*.85).toString(),liquidationThreshold:(a*.9).toString(),utilizationRate:p.toFixed(1)}}},methods:{async handleSupply(a){this.loading=!0,this.lastAction=`Supplying ${a.amount} ${a.asset.symbol}...`,setTimeout(()=>{const i=this.userSupply.find(p=>p.symbol===a.asset.symbol);i?(i.amount=(parseFloat(i.amount)+parseFloat(a.amount)).toString(),i.usdValue=(parseFloat(i.usdValue)+parseFloat(a.amount)*a.asset.price).toString()):this.userSupply.push({symbol:a.asset.symbol,amount:a.amount,usdValue:(parseFloat(a.amount)*a.asset.price).toString(),apy:a.asset.supplyApy});const r=this.supplyAssets.find(p=>p.symbol===a.asset.symbol);r&&(r.balance=(parseFloat(r.balance)-parseFloat(a.amount)).toString(),r.supplied=(parseFloat(r.supplied)+parseFloat(a.amount)).toString()),this.totalSupplied=(parseFloat(this.totalSupplied)+parseFloat(a.amount)*a.asset.price).toString(),this.loading=!1,this.lastAction=`Successfully supplied ${a.amount} ${a.asset.symbol}!`},3e3)},async handleBorrow(a){this.loading=!0,this.lastAction=`Borrowing ${a.amount} ${a.asset.symbol}...`,setTimeout(()=>{const i=this.userBorrow.find(p=>p.symbol===a.asset.symbol);i?(i.amount=(parseFloat(i.amount)+parseFloat(a.amount)).toString(),i.usdValue=(parseFloat(i.usdValue)+parseFloat(a.amount)*a.asset.price).toString()):this.userBorrow.push({symbol:a.asset.symbol,amount:a.amount,usdValue:(parseFloat(a.amount)*a.asset.price).toString(),apy:a.asset.borrowApy});const r=this.borrowAssets.find(p=>p.symbol===a.asset.symbol);r&&(r.borrowed=(parseFloat(r.borrowed)+parseFloat(a.amount)).toString(),r.balance=(parseFloat(r.balance)+parseFloat(a.amount)).toString()),this.totalBorrowed=(parseFloat(this.totalBorrowed)+parseFloat(a.amount)*a.asset.price).toString(),this.loading=!1,this.lastAction=`Successfully borrowed ${a.amount} ${a.asset.symbol}!`},3e3)},async handleRepay(a){this.loading=!0,this.lastAction=`Repaying ${a.amount} ${a.asset.symbol}...`,setTimeout(()=>{const i=this.userBorrow.find(r=>r.symbol===a.asset.symbol);if(i){const r=Math.max(0,parseFloat(i.amount)-parseFloat(a.amount));i.amount=r.toString(),i.usdValue=(r*a.asset.price).toString(),r===0&&(this.userBorrow=this.userBorrow.filter(p=>p.symbol!==a.asset.symbol))}this.totalBorrowed=Math.max(0,parseFloat(this.totalBorrowed)-parseFloat(a.amount)*a.asset.price).toString(),this.loading=!1,this.lastAction=`Successfully repaid ${a.amount} ${a.asset.symbol}!`},2500)},async handleWithdraw(a){this.loading=!0,this.lastAction=`Withdrawing ${a.amount} ${a.asset.symbol}...`,setTimeout(()=>{const i=this.userSupply.find(r=>r.symbol===a.asset.symbol);if(i){const r=Math.max(0,parseFloat(i.amount)-parseFloat(a.amount));i.amount=r.toString(),i.usdValue=(r*a.asset.price).toString(),r===0&&(this.userSupply=this.userSupply.filter(p=>p.symbol!==a.asset.symbol))}this.totalSupplied=Math.max(0,parseFloat(this.totalSupplied)-parseFloat(a.amount)*a.asset.price).toString(),this.loading=!1,this.lastAction=`Successfully withdrew ${a.amount} ${a.asset.symbol}!`},2500)},async handleApprove(a){this.lastAction=`Approving ${a.asset.symbol} for ${a.action}...`,setTimeout(()=>{this.lastAction=`Successfully approved ${a.asset.symbol}!`},2e3)}}})},W={parameters:{backgrounds:{default:"dark"}},render:()=>({components:{LendingBorrow:N},template:`
      <div class="dark">
        <div class="min-h-screen bg-gray-900 p-8">
          <LendingBorrow
            :supply-assets="[{
              symbol: 'ETH',
              name: 'Ethereum',
              balance: '5.25',
              price: 2500,
              supplyApy: '3.2',
              totalSupply: '1.2M',
              supplied: '2.0',
              collateralFactor: '0.8',
              ltv: '80',
              decimals: 18
            }]"
            :borrow-assets="[{
              symbol: 'USDC',
              name: 'USD Coin',
              balance: '0',
              price: 1,
              borrowApy: '7.2',
              totalBorrow: '520M',
              borrowed: '1500',
              availableToBorrow: '2800',
              decimals: 6
            }]"
            :user-supply="[{
              symbol: 'ETH',
              amount: '2.0',
              usdValue: '5000',
              apy: '3.2'
            }]"
            :user-borrow="[{
              symbol: 'USDC',
              amount: '1500',
              usdValue: '1500',
              apy: '7.2'
            }]"
            :account-health="{
              factor: '2.45',
              status: 'healthy',
              collateralValue: '5000',
              borrowLimit: '4250',
              liquidationThreshold: '4500',
              utilizationRate: '35.3'
            }"
            total-supplied="5000"
            total-borrowed="1500"
            net-apy="1.8"
            title="🌙 Night Mode Lending"
            subtitle="Beautiful dark theme lending interface"
            :show-health-warnings="true"
            :show-liquidation-risk="true"
          />
        </div>
      </div>
    `})};var gt,ht,wt;F.parameters={...F.parameters,docs:{...(gt=F.parameters)==null?void 0:gt.docs,source:{originalSource:`{
  args: {
    title: 'Lending & Borrowing',
    subtitle: 'Supply assets to earn interest and borrow against your collateral',
    supplyAssets: [{
      symbol: 'ETH',
      name: 'Ethereum',
      balance: '5.25',
      price: 2500,
      supplyApy: '3.2',
      totalSupply: '1.2M',
      supplied: '0',
      collateralFactor: '0.8',
      ltv: '80',
      decimals: 18
    }, {
      symbol: 'USDC',
      name: 'USD Coin',
      balance: '15000',
      price: 1,
      supplyApy: '4.5',
      totalSupply: '850M',
      supplied: '5000',
      collateralFactor: '0.85',
      ltv: '85',
      decimals: 6
    }, {
      symbol: 'DAI',
      name: 'Dai Stablecoin',
      balance: '8500',
      price: 0.999,
      supplyApy: '5.1',
      totalSupply: '120M',
      supplied: '0',
      collateralFactor: '0.85',
      ltv: '85',
      decimals: 18
    }],
    borrowAssets: [{
      symbol: 'ETH',
      name: 'Ethereum',
      balance: '0',
      price: 2500,
      borrowApy: '5.8',
      totalBorrow: '450K',
      borrowed: '0',
      availableToBorrow: '3.2',
      decimals: 18
    }, {
      symbol: 'USDC',
      name: 'USD Coin',
      balance: '0',
      price: 1,
      borrowApy: '7.2',
      totalBorrow: '520M',
      borrowed: '1500',
      availableToBorrow: '2800',
      decimals: 6
    }, {
      symbol: 'USDT',
      name: 'Tether USD',
      balance: '0',
      price: 1,
      borrowApy: '6.9',
      totalBorrow: '380M',
      borrowed: '0',
      availableToBorrow: '3200',
      decimals: 6
    }],
    userSupply: [{
      symbol: 'USDC',
      amount: '5000',
      usdValue: '5000',
      apy: '4.5'
    }],
    userBorrow: [{
      symbol: 'USDC',
      amount: '1500',
      usdValue: '1500',
      apy: '7.2'
    }],
    accountHealth: {
      factor: '2.45',
      status: 'healthy',
      collateralValue: '5000',
      borrowLimit: '4250',
      liquidationThreshold: '4500',
      utilizationRate: '35.3'
    },
    totalSupplied: '5000',
    totalBorrowed: '1500',
    netAPY: '1.8',
    showHealthWarnings: true,
    showLiquidationRisk: true,
    loading: false
  }
}`,...(wt=(ht=F.parameters)==null?void 0:ht.docs)==null?void 0:wt.source}}};var vt,ft,xt;M.parameters={...M.parameters,docs:{...(vt=M.parameters)==null?void 0:vt.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    title: 'Safe Lending Position',
    subtitle: 'Well-collateralized position with healthy metrics',
    userSupply: [{
      symbol: 'ETH',
      amount: '4.0',
      usdValue: '10000',
      apy: '3.2'
    }, {
      symbol: 'USDC',
      amount: '5000',
      usdValue: '5000',
      apy: '4.5'
    }],
    userBorrow: [{
      symbol: 'USDC',
      amount: '2000',
      usdValue: '2000',
      apy: '7.2'
    }],
    accountHealth: {
      factor: '5.85',
      status: 'healthy',
      collateralValue: '15000',
      borrowLimit: '12750',
      liquidationThreshold: '13500',
      utilizationRate: '15.7'
    },
    totalSupplied: '15000',
    totalBorrowed: '2000',
    netAPY: '2.9'
  }
}`,...(xt=(ft=M.parameters)==null?void 0:ft.docs)==null?void 0:xt.source}}};var kt,St,At;E.parameters={...E.parameters,docs:{...(kt=E.parameters)==null?void 0:kt.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    title: 'Moderate Risk Position',
    subtitle: 'Position approaching liquidation threshold - consider reducing risk',
    userSupply: [{
      symbol: 'ETH',
      amount: '2.0',
      usdValue: '5000',
      apy: '3.2'
    }],
    userBorrow: [{
      symbol: 'USDC',
      amount: '3500',
      usdValue: '3500',
      apy: '7.2'
    }, {
      symbol: 'USDT',
      amount: '800',
      usdValue: '800',
      apy: '6.9'
    }],
    accountHealth: {
      factor: '1.45',
      status: 'warning',
      collateralValue: '5000',
      borrowLimit: '4250',
      liquidationThreshold: '4500',
      utilizationRate: '95.5'
    },
    totalSupplied: '5000',
    totalBorrowed: '4300',
    netAPY: '-2.1'
  }
}`,...(At=(St=E.parameters)==null?void 0:St.docs)==null?void 0:At.source}}};var Bt,Ft,Tt;R.parameters={...R.parameters,docs:{...(Bt=R.parameters)==null?void 0:Bt.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    title: 'High Risk Position',
    subtitle: 'URGENT: Position at risk of liquidation - take immediate action',
    userSupply: [{
      symbol: 'ETH',
      amount: '2.0',
      usdValue: '5000',
      apy: '3.2'
    }],
    userBorrow: [{
      symbol: 'USDC',
      amount: '4000',
      usdValue: '4000',
      apy: '7.2'
    }, {
      symbol: 'USDT',
      amount: '400',
      usdValue: '400',
      apy: '6.9'
    }],
    accountHealth: {
      factor: '1.12',
      status: 'danger',
      collateralValue: '5000',
      borrowLimit: '4250',
      liquidationThreshold: '4500',
      utilizationRate: '97.8'
    },
    totalSupplied: '5000',
    totalBorrowed: '4400',
    netAPY: '-3.8'
  }
}`,...(Tt=(Ft=R.parameters)==null?void 0:Ft.docs)==null?void 0:Tt.source}}};var Vt,Pt,Dt;q.parameters={...q.parameters,docs:{...(Vt=q.parameters)==null?void 0:Vt.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    title: 'Start Lending',
    subtitle: 'Supply assets to begin earning interest and unlock borrowing',
    userSupply: [],
    userBorrow: [],
    accountHealth: {
      factor: '0',
      status: 'none',
      collateralValue: '0',
      borrowLimit: '0',
      liquidationThreshold: '0',
      utilizationRate: '0'
    },
    totalSupplied: '0',
    totalBorrowed: '0',
    netAPY: '0'
  }
}`,...(Dt=(Pt=q.parameters)==null?void 0:Pt.docs)==null?void 0:Dt.source}}};var _t,Ht,Ut;Y.parameters={...Y.parameters,docs:{...(_t=Y.parameters)==null?void 0:_t.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    title: 'Supply Position',
    subtitle: 'Earning interest on supplied assets with no borrowed positions',
    userSupply: [{
      symbol: 'ETH',
      amount: '3.0',
      usdValue: '7500',
      apy: '3.2'
    }, {
      symbol: 'USDC',
      amount: '10000',
      usdValue: '10000',
      apy: '4.5'
    }],
    userBorrow: [],
    accountHealth: {
      factor: '∞',
      status: 'healthy',
      collateralValue: '17500',
      borrowLimit: '14875',
      liquidationThreshold: '15750',
      utilizationRate: '0'
    },
    totalSupplied: '17500',
    totalBorrowed: '0',
    netAPY: '3.9'
  }
}`,...(Ut=(Ht=Y.parameters)==null?void 0:Ht.docs)==null?void 0:Ut.source}}};var $t,Ct,Lt;j.parameters={...j.parameters,docs:{...($t=j.parameters)==null?void 0:$t.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    loading: true
  }
}`,...(Lt=(Ct=j.parameters)==null?void 0:Ct.docs)==null?void 0:Lt.source}}};var Mt,Et,Rt;z.parameters={...z.parameters,docs:{...(Mt=z.parameters)==null?void 0:Mt.docs,source:{originalSource:`{
  render: () => ({
    components: {
      LendingBorrow
    },
    template: \`
      <div class="space-y-6">
        <div class="text-center">
          <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">
            Interactive Lending & Borrowing
          </h3>
          <p class="text-sm text-gray-600 dark:text-gray-400">
            Supply collateral, borrow assets, and monitor your health factor
          </p>
        </div>

        <LendingBorrow
          :supply-assets="supplyAssets"
          :borrow-assets="borrowAssets"
          :user-supply="userSupply"
          :user-borrow="userBorrow"
          :account-health="accountHealth"
          :total-supplied="totalSupplied"
          :total-borrowed="totalBorrowed"
          :net-apy="netAPY"
          :loading="loading"
          title="Interactive Lending Platform"
          subtitle="Full-featured lending with real-time health monitoring"
          @supply="handleSupply"
          @withdraw="handleWithdraw"
          @borrow="handleBorrow"
          @repay="handleRepay"
          @approve="handleApprove"
        />

        <div v-if="lastAction" class="rounded-lg bg-gray-100 p-3 dark:bg-gray-800">
          <div class="text-sm font-medium text-gray-700 dark:text-gray-300">Last Action:</div>
          <pre class="mt-1 text-xs text-gray-600 dark:text-gray-400">{{ lastAction }}</pre>
        </div>
      </div>
    \`,
    data() {
      return {
        supplyAssets: [{
          symbol: 'ETH',
          name: 'Ethereum',
          balance: '5.25',
          price: 2500,
          supplyApy: '3.2',
          totalSupply: '1.2M',
          supplied: '2.0',
          collateralFactor: '0.8',
          ltv: '80',
          decimals: 18
        }, {
          symbol: 'USDC',
          name: 'USD Coin',
          balance: '15000',
          price: 1,
          supplyApy: '4.5',
          totalSupply: '850M',
          supplied: '5000',
          collateralFactor: '0.85',
          ltv: '85',
          decimals: 6
        }],
        borrowAssets: [{
          symbol: 'ETH',
          name: 'Ethereum',
          balance: '0',
          price: 2500,
          borrowApy: '5.8',
          totalBorrow: '450K',
          borrowed: '0',
          availableToBorrow: '2.8',
          decimals: 18
        }, {
          symbol: 'USDC',
          name: 'USD Coin',
          balance: '0',
          price: 1,
          borrowApy: '7.2',
          totalBorrow: '520M',
          borrowed: '1500',
          availableToBorrow: '4000',
          decimals: 6
        }],
        userSupply: [{
          symbol: 'ETH',
          amount: '2.0',
          usdValue: '5000',
          apy: '3.2'
        }, {
          symbol: 'USDC',
          amount: '5000',
          usdValue: '5000',
          apy: '4.5'
        }],
        userBorrow: [{
          symbol: 'USDC',
          amount: '1500',
          usdValue: '1500',
          apy: '7.2'
        }],
        totalSupplied: '10000',
        totalBorrowed: '1500',
        netAPY: '2.3',
        loading: false,
        lastAction: null
      };
    },
    computed: {
      accountHealth() {
        const supplied = parseFloat(this.totalSupplied);
        const borrowed = parseFloat(this.totalBorrowed);
        if (borrowed === 0) {
          return {
            factor: '∞',
            status: 'healthy',
            collateralValue: supplied.toString(),
            borrowLimit: (supplied * 0.85).toString(),
            liquidationThreshold: (supplied * 0.9).toString(),
            utilizationRate: '0'
          };
        }
        const factor = supplied * 0.8 / borrowed;
        const utilizationRate = borrowed / (supplied * 0.85) * 100;
        let status = 'healthy';
        if (factor < 1.3) status = 'danger';else if (factor < 2.0) status = 'warning';
        return {
          factor: factor.toFixed(2),
          status,
          collateralValue: supplied.toString(),
          borrowLimit: (supplied * 0.85).toString(),
          liquidationThreshold: (supplied * 0.9).toString(),
          utilizationRate: utilizationRate.toFixed(1)
        };
      }
    },
    methods: {
      async handleSupply(data) {
        this.loading = true;
        this.lastAction = \`Supplying \${data.amount} \${data.asset.symbol}...\`;
        setTimeout(() => {
          // Update user supply position
          const existingSupply = this.userSupply.find(s => s.symbol === data.asset.symbol);
          if (existingSupply) {
            existingSupply.amount = (parseFloat(existingSupply.amount) + parseFloat(data.amount)).toString();
            existingSupply.usdValue = (parseFloat(existingSupply.usdValue) + parseFloat(data.amount) * data.asset.price).toString();
          } else {
            this.userSupply.push({
              symbol: data.asset.symbol,
              amount: data.amount,
              usdValue: (parseFloat(data.amount) * data.asset.price).toString(),
              apy: data.asset.supplyApy
            });
          }

          // Update asset balance and supplied amount
          const asset = this.supplyAssets.find(a => a.symbol === data.asset.symbol);
          if (asset) {
            asset.balance = (parseFloat(asset.balance) - parseFloat(data.amount)).toString();
            asset.supplied = (parseFloat(asset.supplied) + parseFloat(data.amount)).toString();
          }

          // Update total supplied
          this.totalSupplied = (parseFloat(this.totalSupplied) + parseFloat(data.amount) * data.asset.price).toString();
          this.loading = false;
          this.lastAction = \`Successfully supplied \${data.amount} \${data.asset.symbol}!\`;
        }, 3000);
      },
      async handleBorrow(data) {
        this.loading = true;
        this.lastAction = \`Borrowing \${data.amount} \${data.asset.symbol}...\`;
        setTimeout(() => {
          // Update user borrow position
          const existingBorrow = this.userBorrow.find(b => b.symbol === data.asset.symbol);
          if (existingBorrow) {
            existingBorrow.amount = (parseFloat(existingBorrow.amount) + parseFloat(data.amount)).toString();
            existingBorrow.usdValue = (parseFloat(existingBorrow.usdValue) + parseFloat(data.amount) * data.asset.price).toString();
          } else {
            this.userBorrow.push({
              symbol: data.asset.symbol,
              amount: data.amount,
              usdValue: (parseFloat(data.amount) * data.asset.price).toString(),
              apy: data.asset.borrowApy
            });
          }

          // Update asset borrowed amount
          const asset = this.borrowAssets.find(a => a.symbol === data.asset.symbol);
          if (asset) {
            asset.borrowed = (parseFloat(asset.borrowed) + parseFloat(data.amount)).toString();
            asset.balance = (parseFloat(asset.balance) + parseFloat(data.amount)).toString();
          }

          // Update total borrowed
          this.totalBorrowed = (parseFloat(this.totalBorrowed) + parseFloat(data.amount) * data.asset.price).toString();
          this.loading = false;
          this.lastAction = \`Successfully borrowed \${data.amount} \${data.asset.symbol}!\`;
        }, 3000);
      },
      async handleRepay(data) {
        this.loading = true;
        this.lastAction = \`Repaying \${data.amount} \${data.asset.symbol}...\`;
        setTimeout(() => {
          // Update user borrow position
          const borrowPosition = this.userBorrow.find(b => b.symbol === data.asset.symbol);
          if (borrowPosition) {
            const newAmount = Math.max(0, parseFloat(borrowPosition.amount) - parseFloat(data.amount));
            borrowPosition.amount = newAmount.toString();
            borrowPosition.usdValue = (newAmount * data.asset.price).toString();
            if (newAmount === 0) {
              this.userBorrow = this.userBorrow.filter(b => b.symbol !== data.asset.symbol);
            }
          }

          // Update total borrowed
          this.totalBorrowed = Math.max(0, parseFloat(this.totalBorrowed) - parseFloat(data.amount) * data.asset.price).toString();
          this.loading = false;
          this.lastAction = \`Successfully repaid \${data.amount} \${data.asset.symbol}!\`;
        }, 2500);
      },
      async handleWithdraw(data) {
        this.loading = true;
        this.lastAction = \`Withdrawing \${data.amount} \${data.asset.symbol}...\`;
        setTimeout(() => {
          // Update user supply position
          const supplyPosition = this.userSupply.find(s => s.symbol === data.asset.symbol);
          if (supplyPosition) {
            const newAmount = Math.max(0, parseFloat(supplyPosition.amount) - parseFloat(data.amount));
            supplyPosition.amount = newAmount.toString();
            supplyPosition.usdValue = (newAmount * data.asset.price).toString();
            if (newAmount === 0) {
              this.userSupply = this.userSupply.filter(s => s.symbol !== data.asset.symbol);
            }
          }

          // Update total supplied
          this.totalSupplied = Math.max(0, parseFloat(this.totalSupplied) - parseFloat(data.amount) * data.asset.price).toString();
          this.loading = false;
          this.lastAction = \`Successfully withdrew \${data.amount} \${data.asset.symbol}!\`;
        }, 2500);
      },
      async handleApprove(data) {
        this.lastAction = \`Approving \${data.asset.symbol} for \${data.action}...\`;
        setTimeout(() => {
          this.lastAction = \`Successfully approved \${data.asset.symbol}!\`;
        }, 2000);
      }
    }
  })
}`,...(Rt=(Et=z.parameters)==null?void 0:Et.docs)==null?void 0:Rt.source}}};var qt,Yt,jt;W.parameters={...W.parameters,docs:{...(qt=W.parameters)==null?void 0:qt.docs,source:{originalSource:`{
  parameters: {
    backgrounds: {
      default: 'dark'
    }
  },
  render: () => ({
    components: {
      LendingBorrow
    },
    template: \`
      <div class="dark">
        <div class="min-h-screen bg-gray-900 p-8">
          <LendingBorrow
            :supply-assets="[{
              symbol: 'ETH',
              name: 'Ethereum',
              balance: '5.25',
              price: 2500,
              supplyApy: '3.2',
              totalSupply: '1.2M',
              supplied: '2.0',
              collateralFactor: '0.8',
              ltv: '80',
              decimals: 18
            }]"
            :borrow-assets="[{
              symbol: 'USDC',
              name: 'USD Coin',
              balance: '0',
              price: 1,
              borrowApy: '7.2',
              totalBorrow: '520M',
              borrowed: '1500',
              availableToBorrow: '2800',
              decimals: 6
            }]"
            :user-supply="[{
              symbol: 'ETH',
              amount: '2.0',
              usdValue: '5000',
              apy: '3.2'
            }]"
            :user-borrow="[{
              symbol: 'USDC',
              amount: '1500',
              usdValue: '1500',
              apy: '7.2'
            }]"
            :account-health="{
              factor: '2.45',
              status: 'healthy',
              collateralValue: '5000',
              borrowLimit: '4250',
              liquidationThreshold: '4500',
              utilizationRate: '35.3'
            }"
            total-supplied="5000"
            total-borrowed="1500"
            net-apy="1.8"
            title="🌙 Night Mode Lending"
            subtitle="Beautiful dark theme lending interface"
            :show-health-warnings="true"
            :show-liquidation-risk="true"
          />
        </div>
      </div>
    \`
  })
}`,...(jt=(Yt=W.parameters)==null?void 0:Yt.docs)==null?void 0:jt.source}}};const po=["Default","HealthyPosition","WarningPosition","DangerPosition","NoPosition","SupplyOnly","Loading","Interactive","DarkMode"];export{R as DangerPosition,W as DarkMode,F as Default,M as HealthyPosition,z as Interactive,j as Loading,q as NoPosition,Y as SupplyOnly,E as WarningPosition,po as __namedExportsOrder,uo as default};
