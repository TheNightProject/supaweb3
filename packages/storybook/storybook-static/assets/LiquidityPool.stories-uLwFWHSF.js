import{r as v,c as H,i as fe,b as l,f as e,d as u,t as n,n as b,w as F,v as I,F as xe,g as he,k as V,h as i}from"./vue.esm-bundler-DxM0YtBV.js";const Ae={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700"},we={class:"p-6"},Pe={class:"flex justify-between items-start mb-6"},Te={class:"text-xl font-bold text-gray-900 dark:text-white"},Be={key:0,class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},Se={class:"flex items-center space-x-2 mt-2"},Le={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},qe={key:0,class:"px-2 py-1 text-xs bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400 rounded"},Fe={key:0,class:"text-right"},Ie={class:"text-lg font-semibold text-gray-900 dark:text-white"},Ve={class:"flex bg-gray-100 dark:bg-gray-700 p-1 rounded-lg mb-6"},Re={key:0,class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"},$e={class:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 p-3 rounded-lg border border-green-200 dark:border-green-800"},De={class:"text-lg font-bold text-green-600 dark:text-green-400"},Ce={class:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 p-3 rounded-lg border border-blue-200 dark:border-blue-800"},Me={class:"text-lg font-bold text-blue-600 dark:text-blue-400"},je={class:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 p-3 rounded-lg border border-purple-200 dark:border-purple-800"},Ee={class:"text-lg font-bold text-purple-600 dark:text-purple-400"},He={class:"bg-gradient-to-r from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 p-3 rounded-lg border border-orange-200 dark:border-orange-800"},Ue={class:"text-lg font-bold text-orange-600 dark:text-orange-400"},Ne={key:1,class:"space-y-6"},Oe={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},We={class:"relative"},ze=["placeholder","disabled"],Ke={class:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1"},Ye={key:0},Xe={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},Ge={class:"relative"},Je=["placeholder","disabled"],Qe={class:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1"},Ze={key:0},_e={class:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg"},et={class:"text-center"},tt={class:"text-lg font-semibold text-gray-900 dark:text-white"},ot={class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},nt={key:0,class:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800"},at={class:"space-y-1 text-sm"},st={class:"flex justify-between"},lt={class:"font-medium"},it={class:"flex justify-between"},rt={class:"font-medium"},dt={class:"flex justify-between"},ut={class:"font-medium"},ct={key:2,class:"space-y-6"},mt={class:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg"},pt={class:"grid grid-cols-2 gap-4 mb-4"},kt={class:"font-semibold text-gray-900 dark:text-white"},gt={class:"font-semibold text-gray-900 dark:text-white"},yt={class:"grid grid-cols-2 gap-4 text-sm"},vt={class:"text-gray-600 dark:text-gray-400"},bt={class:"font-medium text-gray-900 dark:text-white"},ft={class:"text-gray-600 dark:text-gray-400"},xt={class:"font-medium text-gray-900 dark:text-white"},ht={class:"space-y-4"},At={class:"px-3"},wt={class:"text-center"},Pt={class:"text-2xl font-bold text-gray-900 dark:text-white"},Tt={class:"flex gap-2 justify-center"},Bt=["onClick"],St={key:0,class:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg border border-red-200 dark:border-red-800"},Lt={class:"space-y-1 text-sm"},qt={class:"flex justify-between"},Ft={class:"text-red-700 dark:text-red-400"},It={class:"font-medium"},Vt={class:"flex justify-between"},Rt={class:"text-red-700 dark:text-red-400"},$t={class:"font-medium"},Dt={class:"flex justify-between border-t border-red-200 dark:border-red-800 pt-2 mt-2"},Ct={class:"font-semibold"},Mt={key:3,class:"mt-6 bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg border border-yellow-200 dark:border-yellow-800"},jt={class:"flex items-start space-x-3"},Et={class:"text-sm text-yellow-700 dark:text-yellow-400"},Ht={key:0,class:"space-y-1"},Ut={class:"font-medium"},Nt={key:4,class:"mt-4 bg-orange-50 dark:bg-orange-900/20 p-3 rounded-lg border border-orange-200 dark:border-orange-800"},Ot={class:"flex items-center space-x-2"},Wt={class:"text-sm"},zt={class:"text-orange-700 dark:text-orange-400 ml-1"},Kt={class:"mt-6"},Yt=["disabled"],Xt={key:0,class:"w-5 h-5 border-2 border-gray-300 border-t-gray-600 rounded-full animate-spin"},Gt={key:5,class:"mt-4 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},Jt={class:"text-sm text-gray-600 dark:text-gray-400 space-y-1"},Qt={class:"flex justify-between"},Zt={key:0,class:"flex justify-between"},_t={key:1,class:"flex justify-between"},eo={key:6,class:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700"},to={class:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm"},oo={class:"font-medium text-gray-900 dark:text-white"},no={class:"font-medium text-gray-900 dark:text-white"},ao={class:"font-medium text-gray-900 dark:text-white"},so={class:"font-medium text-gray-900 dark:text-white"},S={__name:"LiquidityPool",props:{title:{type:String,default:"Liquidity Pool"},subtitle:{type:String,default:"Add or remove liquidity to earn trading fees"},tokenA:{type:Object,required:!0},tokenB:{type:Object,required:!0},poolStats:{type:Object,default:()=>({})},poolFee:{type:String,default:"0.3"},protocol:{type:String,default:"Uniswap V3"},poolAddress:{type:String,default:""},poolCreated:{type:String,default:""},userShare:{type:String,default:"0"},userLiquidityValue:{type:String,default:"0"},userLPTokens:{type:String,default:"0"},userTokenAInPool:{type:String,default:"0"},userTokenBInPool:{type:String,default:"0"},impermanentLossData:{type:Object,default:()=>({current:"0"})},priceImpact:{type:String,default:"0"},showILWarning:{type:Boolean,default:!0},showTransactionSummary:{type:Boolean,default:!0},showPoolInfo:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},gasEstimate:{type:String,default:"12"},slippageTolerance:{type:String,default:"0.5"},className:{type:String,default:""}},emits:["add-liquidity","remove-liquidity"],setup(t,{emit:L}){const a=t,R=L,p=v("add"),r=v(""),d=v(""),c=v(0),g=v(!1),$=H(()=>a.loading?!0:p.value==="add"?!r.value||!d.value||parseFloat(r.value)<=0||parseFloat(d.value)<=0||parseFloat(r.value)>parseFloat(a.tokenA.balance)||parseFloat(d.value)>parseFloat(a.tokenB.balance):p.value==="remove"?c.value<=0||parseFloat(a.userLPTokens)<=0:!1),ce=H(()=>a.loading?p.value==="add"?"Adding Liquidity...":"Removing Liquidity...":p.value==="add"?r.value&&d.value?`Add ${r.value} ${a.tokenA.symbol} + ${d.value} ${a.tokenB.symbol}`:"Enter Amounts":c.value>0?`Remove ${c.value}% Liquidity`:"Select Amount");fe(p,()=>{r.value="",d.value="",c.value=0});const me=()=>{r.value=a.tokenA.balance,D()},pe=()=>{d.value=a.tokenB.balance,C()},D=()=>{if(g.value||!r.value)return;g.value=!0;const s=a.tokenA.price/a.tokenB.price,o=(parseFloat(r.value)*s).toFixed(6);d.value=o,g.value=!1},C=()=>{if(g.value||!d.value)return;g.value=!0;const s=a.tokenB.price/a.tokenA.price,o=(parseFloat(d.value)*s).toFixed(6);r.value=o,g.value=!1},ke=s=>{c.value=s},ge=()=>{},q=()=>(f()/100).toFixed(4),ye=()=>{var m;const s=f(),o=parseFloat(((m=a.poolStats.tvl)==null?void 0:m.replace(/[,$M]/g,""))||"1000")*1e6;return(s/o*100).toFixed(4)},f=()=>{const s=parseFloat(r.value||"0")*a.tokenA.price,o=parseFloat(d.value||"0")*a.tokenB.price;return s+o},M=()=>{const s=c.value/100;return(parseFloat(a.userTokenAInPool||"0")*s).toFixed(6)},j=()=>{const s=c.value/100;return(parseFloat(a.userTokenBInPool||"0")*s).toFixed(6)},E=()=>{const s=c.value/100;return parseFloat(a.userLiquidityValue||"0")*s},ve=()=>{const s=parseFloat(q()),o=parseFloat(a.slippageTolerance||"0.5")/100;return(s*(1-o)).toFixed(4)},be=()=>{p.value==="add"?R("add-liquidity",{tokenA:{...a.tokenA,amount:r.value},tokenB:{...a.tokenB,amount:d.value},expectedLP:q(),totalValue:f()}):R("remove-liquidity",{percentage:c.value,tokenA:{...a.tokenA,amount:M()},tokenB:{...a.tokenB,amount:j()},value:E()})},y=s=>new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:2}).format(s);return(s,o)=>(i(),l("div",{class:b(["liquidity-pool",t.className])},[e("div",Ae,[e("div",we,[e("div",Pe,[e("div",null,[e("h2",Te,n(t.title),1),t.subtitle?(i(),l("p",Be,n(t.subtitle),1)):u("",!0),e("div",Se,[e("span",Le,n(t.tokenA.symbol)+"/"+n(t.tokenB.symbol),1),t.poolFee?(i(),l("span",qe,n(t.poolFee)+"% Fee ",1)):u("",!0)])]),t.poolStats?(i(),l("div",Fe,[o[5]||(o[5]=e("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"Pool TVL",-1)),e("div",Ie," $"+n(t.poolStats.tvl),1)])):u("",!0)]),e("div",Ve,[e("button",{onClick:o[0]||(o[0]=m=>p.value="add"),class:b(["flex-1 py-2 px-4 rounded-md font-medium transition-colors",p.value==="add"?"bg-white dark:bg-gray-800 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"])}," Add Liquidity ",2),e("button",{onClick:o[1]||(o[1]=m=>p.value="remove"),class:b(["flex-1 py-2 px-4 rounded-md font-medium transition-colors",p.value==="remove"?"bg-white dark:bg-gray-800 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"])}," Remove Liquidity ",2)]),t.poolStats?(i(),l("div",Re,[e("div",$e,[o[6]||(o[6]=e("div",{class:"text-xs text-green-700 dark:text-green-300 mb-1"},"APY",-1)),e("div",De,n(t.poolStats.apy)+"% ",1)]),e("div",Ce,[o[7]||(o[7]=e("div",{class:"text-xs text-blue-700 dark:text-blue-300 mb-1"},"24h Volume",-1)),e("div",Me," $"+n(t.poolStats.volume24h),1)]),e("div",je,[o[8]||(o[8]=e("div",{class:"text-xs text-purple-700 dark:text-purple-300 mb-1"},"Your Share",-1)),e("div",Ee,n(t.userShare||"0")+"% ",1)]),e("div",He,[o[9]||(o[9]=e("div",{class:"text-xs text-orange-700 dark:text-orange-300 mb-1"},"Your Value",-1)),e("div",Ue," $"+n(t.userLiquidityValue||"0"),1)])])):u("",!0),p.value==="add"?(i(),l("div",Ne,[e("div",null,[e("label",Oe,n(t.tokenA.symbol)+" Amount ",1),e("div",We,[F(e("input",{"onUpdate:modelValue":o[2]||(o[2]=m=>r.value=m),onInput:D,type:"number",placeholder:`Enter ${t.tokenA.symbol} amount`,disabled:t.loading,class:"w-full px-4 py-3 pr-20 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:opacity-50"},null,40,ze),[[I,r.value]]),e("button",{onClick:me,class:"absolute right-3 top-3 text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors"}," MAX ")]),e("div",Ke,[e("span",null,"Balance: "+n(t.tokenA.balance)+" "+n(t.tokenA.symbol),1),r.value?(i(),l("span",Ye,"≈ $"+n(y(parseFloat(r.value)*t.tokenA.price)),1)):u("",!0)])]),o[15]||(o[15]=e("div",{class:"flex justify-center"},[e("div",{class:"w-8 h-8 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})])])],-1)),e("div",null,[e("label",Xe,n(t.tokenB.symbol)+" Amount ",1),e("div",Ge,[F(e("input",{"onUpdate:modelValue":o[3]||(o[3]=m=>d.value=m),onInput:C,type:"number",placeholder:`Enter ${t.tokenB.symbol} amount`,disabled:t.loading,class:"w-full px-4 py-3 pr-20 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:opacity-50"},null,40,Je),[[I,d.value]]),e("button",{onClick:pe,class:"absolute right-3 top-3 text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors"}," MAX ")]),e("div",Qe,[e("span",null,"Balance: "+n(t.tokenB.balance)+" "+n(t.tokenB.symbol),1),d.value?(i(),l("span",Ze,"≈ $"+n(y(parseFloat(d.value)*t.tokenB.price)),1)):u("",!0)])]),e("div",_e,[o[10]||(o[10]=e("div",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Current Pool Ratio",-1)),e("div",et,[e("div",tt," 1 "+n(t.tokenA.symbol)+" = "+n(y(t.tokenA.price/t.tokenB.price))+" "+n(t.tokenB.symbol),1),e("div",ot," 1 "+n(t.tokenB.symbol)+" = "+n(y(t.tokenB.price/t.tokenA.price))+" "+n(t.tokenA.symbol),1)])]),r.value&&d.value?(i(),l("div",nt,[o[14]||(o[14]=e("div",{class:"text-sm font-medium text-blue-900 dark:text-blue-300 mb-2"},"You Will Receive",-1)),e("div",at,[e("div",st,[o[11]||(o[11]=e("span",{class:"text-blue-700 dark:text-blue-400"},"LP Tokens:",-1)),e("span",lt,n(q())+" "+n(t.tokenA.symbol)+"-"+n(t.tokenB.symbol),1)]),e("div",it,[o[12]||(o[12]=e("span",{class:"text-blue-700 dark:text-blue-400"},"Pool Share:",-1)),e("span",rt,n(ye())+"%",1)]),e("div",dt,[o[13]||(o[13]=e("span",{class:"text-blue-700 dark:text-blue-400"},"Total Value:",-1)),e("span",ut,"$"+n(y(f())),1)])])])):u("",!0)])):(i(),l("div",ct,[e("div",mt,[o[18]||(o[18]=e("div",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},"Your Liquidity Position",-1)),e("div",pt,[e("div",null,[o[16]||(o[16]=e("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"LP Tokens",-1)),e("div",kt,n(t.userLPTokens||"0")+" "+n(t.tokenA.symbol)+"-"+n(t.tokenB.symbol),1)]),e("div",null,[o[17]||(o[17]=e("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"Total Value",-1)),e("div",gt," $"+n(t.userLiquidityValue||"0"),1)])]),e("div",yt,[e("div",null,[e("div",vt,n(t.tokenA.symbol),1),e("div",bt,n(t.userTokenAInPool||"0")+" "+n(t.tokenA.symbol),1)]),e("div",null,[e("div",ft,n(t.tokenB.symbol),1),e("div",xt,n(t.userTokenBInPool||"0")+" "+n(t.tokenB.symbol),1)])])]),e("div",null,[o[21]||(o[21]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"}," Amount to Remove ",-1)),e("div",ht,[e("div",At,[F(e("input",{"onUpdate:modelValue":o[4]||(o[4]=m=>c.value=m),onInput:ge,type:"range",min:"0",max:"100",step:"1",class:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"},null,544),[[I,c.value]]),o[19]||(o[19]=e("div",{class:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1"},[e("span",null,"0%"),e("span",null,"25%"),e("span",null,"50%"),e("span",null,"75%"),e("span",null,"100%")],-1))]),e("div",wt,[e("div",Pt,n(c.value)+"% ",1),o[20]||(o[20]=e("div",{class:"text-sm text-gray-600 dark:text-gray-400"}," of your liquidity position ",-1))]),e("div",Tt,[(i(),l(xe,null,he([25,50,75,100],m=>e("button",{key:m,onClick:lo=>ke(m),class:b(["px-3 py-2 text-sm rounded-lg font-medium transition-colors",c.value==m?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"])},n(m)+"% ",11,Bt)),64))])])]),c.value>0?(i(),l("div",St,[o[23]||(o[23]=e("div",{class:"text-sm font-medium text-red-900 dark:text-red-300 mb-2"},"You Will Receive",-1)),e("div",Lt,[e("div",qt,[e("span",Ft,n(t.tokenA.symbol)+":",1),e("span",It,n(M())+" "+n(t.tokenA.symbol),1)]),e("div",Vt,[e("span",Rt,n(t.tokenB.symbol)+":",1),e("span",$t,n(j())+" "+n(t.tokenB.symbol),1)]),e("div",Dt,[o[22]||(o[22]=e("span",{class:"text-red-700 dark:text-red-400 font-medium"},"Total Value:",-1)),e("span",Ct,"$"+n(y(E())),1)])])])):u("",!0)])),t.showILWarning?(i(),l("div",Mt,[e("div",jt,[o[30]||(o[30]=e("svg",{class:"w-5 h-5 text-yellow-600 dark:text-yellow-400 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)),e("div",null,[o[29]||(o[29]=e("div",{class:"font-medium text-yellow-800 dark:text-yellow-300 mb-1"},"Impermanent Loss Risk",-1)),e("div",Et,[o[27]||(o[27]=e("p",{class:"mb-2"}," Providing liquidity carries risk of impermanent loss if token prices diverge significantly. ",-1)),t.impermanentLossData?(i(),l("div",Ht,[e("div",null,[o[24]||(o[24]=V("• Current IL: ",-1)),e("span",Ut,n(t.impermanentLossData.current)+"%",1)]),e("div",null,[V("• IL if "+n(t.tokenA.symbol)+" doubles: ",1),o[25]||(o[25]=e("span",{class:"font-medium"},"-5.7%",-1))]),e("div",null,[V("• IL if "+n(t.tokenA.symbol)+" halves: ",1),o[26]||(o[26]=e("span",{class:"font-medium"},"-5.7%",-1))])])):u("",!0),o[28]||(o[28]=e("p",{class:"mt-2 text-xs"},[e("a",{href:"#",class:"text-yellow-700 dark:text-yellow-400 underline hover:text-yellow-800 dark:hover:text-yellow-300"}," Learn more about impermanent loss → ")],-1))])])])])):u("",!0),t.priceImpact&&parseFloat(t.priceImpact)>1?(i(),l("div",Nt,[e("div",Ot,[o[32]||(o[32]=e("svg",{class:"w-4 h-4 text-orange-600 dark:text-orange-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)),e("div",Wt,[o[31]||(o[31]=e("span",{class:"font-medium text-orange-800 dark:text-orange-300"},"High Price Impact:",-1)),e("span",zt,n(t.priceImpact)+"%",1)])])])):u("",!0),e("div",Kt,[e("button",{onClick:be,disabled:$.value,class:b(["w-full py-4 rounded-lg font-semibold transition-colors flex items-center justify-center space-x-2",$.value?"bg-gray-200 text-gray-500 cursor-not-allowed dark:bg-gray-700 dark:text-gray-400":p.value==="add"?"bg-blue-500 text-white hover:bg-blue-600":"bg-red-500 text-white hover:bg-red-600"])},[t.loading?(i(),l("div",Xt)):u("",!0),e("span",null,n(ce.value),1)],10,Yt)]),t.showTransactionSummary&&(r.value||c.value>0)?(i(),l("div",Gt,[e("div",Jt,[e("div",Qt,[o[33]||(o[33]=e("span",null,"Gas estimate:",-1)),e("span",null,"~$"+n(t.gasEstimate||"12"),1)]),p.value==="add"?(i(),l("div",Zt,[o[34]||(o[34]=e("span",null,"Minimum LP tokens:",-1)),e("span",null,n(ve()),1)])):u("",!0),t.slippageTolerance?(i(),l("div",_t,[o[35]||(o[35]=e("span",null,"Slippage tolerance:",-1)),e("span",null,n(t.slippageTolerance)+"%",1)])):u("",!0)])])):u("",!0),t.showPoolInfo?(i(),l("div",eo,[e("div",to,[e("div",null,[o[36]||(o[36]=e("div",{class:"text-gray-600 dark:text-gray-400"},"Protocol",-1)),e("div",oo,n(t.protocol||"Uniswap V3"),1)]),e("div",null,[o[37]||(o[37]=e("div",{class:"text-gray-600 dark:text-gray-400"},"Fee Tier",-1)),e("div",no,n(t.poolFee||"0.3")+"%",1)]),e("div",null,[o[38]||(o[38]=e("div",{class:"text-gray-600 dark:text-gray-400"},"Pool Address",-1)),e("div",ao,n(t.poolAddress?`${t.poolAddress.slice(0,6)}...${t.poolAddress.slice(-4)}`:"0x1234...5678"),1)]),e("div",null,[o[39]||(o[39]=e("div",{class:"text-gray-600 dark:text-gray-400"},"Created",-1)),e("div",so,n(t.poolCreated||"Mar 2023"),1)])])])):u("",!0)])])],2))}};S.__docgenInfo={exportName:"default",displayName:"LiquidityPool",description:"",tags:{},props:[{name:"title",type:{name:"string"},defaultValue:{func:!1,value:"'Liquidity Pool'"}},{name:"subtitle",type:{name:"string"},defaultValue:{func:!1,value:"'Add or remove liquidity to earn trading fees'"}},{name:"tokenA",type:{name:"object"},required:!0},{name:"tokenB",type:{name:"object"},required:!0},{name:"poolStats",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"poolFee",type:{name:"string"},defaultValue:{func:!1,value:"'0.3'"}},{name:"protocol",type:{name:"string"},defaultValue:{func:!1,value:"'Uniswap V3'"}},{name:"poolAddress",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"poolCreated",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"userShare",type:{name:"string"},defaultValue:{func:!1,value:"'0'"}},{name:"userLiquidityValue",type:{name:"string"},defaultValue:{func:!1,value:"'0'"}},{name:"userLPTokens",type:{name:"string"},defaultValue:{func:!1,value:"'0'"}},{name:"userTokenAInPool",type:{name:"string"},defaultValue:{func:!1,value:"'0'"}},{name:"userTokenBInPool",type:{name:"string"},defaultValue:{func:!1,value:"'0'"}},{name:"impermanentLossData",type:{name:"object"},defaultValue:{func:!1,value:`{
  current: '0'
}`}},{name:"priceImpact",type:{name:"string"},defaultValue:{func:!1,value:"'0'"}},{name:"showILWarning",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"showTransactionSummary",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"showPoolInfo",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"loading",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"gasEstimate",type:{name:"string"},defaultValue:{func:!1,value:"'12'"}},{name:"slippageTolerance",type:{name:"string"},defaultValue:{func:!1,value:"'0.5'"}},{name:"className",type:{name:"string"},defaultValue:{func:!1,value:"''"}}],events:[{name:"add-liquidity"},{name:"remove-liquidity"}],sourceFiles:["/Users/steve/Projects/tnp.web.supaweb3/packages/ui/src/components/defi/LiquidityPool.vue"]};const ro={title:"DeFi/LiquidityPool",component:S,parameters:{layout:"centered",docs:{description:{component:"A comprehensive liquidity pool interface for adding and removing liquidity with impermanent loss warnings and price impact calculations."}}},decorators:[()=>({template:'<div class="min-w-[600px] max-w-[800px]"><story /></div>'})],tags:["autodocs"],argTypes:{title:{control:"text",description:"Title of the liquidity pool"},subtitle:{control:"text",description:"Subtitle or description"},tokenA:{control:"object",description:"First token in the pair"},tokenB:{control:"object",description:"Second token in the pair"},poolInfo:{control:"object",description:"Pool statistics and information"},userPosition:{control:"object",description:"User current position in pool"},fees:{control:"object",description:"Pool fee structure"},loading:{control:"boolean",description:"Loading state"},showImpermanentLoss:{control:"boolean",description:"Show impermanent loss warnings"},showPriceImpact:{control:"boolean",description:"Show price impact calculations"}}},k={args:{title:"ETH/USDC Pool",subtitle:"High liquidity trading pair with 0.3% fees",tokenA:{symbol:"ETH",balance:"5.25",price:2500,decimals:18},tokenB:{symbol:"USDC",balance:"15000",price:1,decimals:6},poolInfo:{tvl:"125.8M",volume24h:"45.2M",fees24h:"135,600",apr:"12.5",tokenAReserve:"50,240",tokenBReserve:"125,600,000",lpTokenSupply:"2,234,567"},userPosition:{lpTokens:"1,250",tokenAAmount:"2.1",tokenBAmount:"5,250",shareOfPool:"0.056",value:"13,125"},fees:{trading:"0.3",protocol:"0.05",liquidity:"0.25"},showImpermanentLoss:!0,showPriceImpact:!0,loading:!1}},x={args:{...k.args,title:"Add Liquidity - ETH/USDC",subtitle:"Start earning fees by providing liquidity",userPosition:{lpTokens:"0",tokenAAmount:"0",tokenBAmount:"0",shareOfPool:"0",value:"0"}}},h={args:{...k.args,title:"SUPA/ETH Pool",subtitle:"High volatility pair - higher risk, higher rewards",tokenA:{symbol:"SUPA",balance:"10000",price:25,decimals:18},tokenB:{symbol:"ETH",balance:"5.25",price:2500,decimals:18},poolInfo:{tvl:"2.8M",volume24h:"850K",fees24h:"2,550",apr:"45.8",tokenAReserve:"112,000",tokenBReserve:"1,120",lpTokenSupply:"11,200"},userPosition:{lpTokens:"500",tokenAAmount:"5000",tokenBAmount:"5",shareOfPool:"4.46",value:"37,500"}}},A={args:{...k.args,title:"USDC/DAI Pool",subtitle:"Stable trading pair with minimal impermanent loss",tokenA:{symbol:"USDC",balance:"50000",price:1,decimals:6},tokenB:{symbol:"DAI",balance:"50000",price:.999,decimals:18},poolInfo:{tvl:"89.2M",volume24h:"12.3M",fees24h:"36,900",apr:"5.2",tokenAReserve:"44,600,000",tokenBReserve:"44,644,400",lpTokenSupply:"44,622,200"},userPosition:{lpTokens:"25000",tokenAAmount:"25000",tokenBAmount:"25011",shareOfPool:"0.056",value:"50,011"}}},w={args:{...k.args,title:"NEW/ETH Pool",subtitle:"New token pair - low liquidity, high price impact",tokenA:{symbol:"NEW",balance:"1000000",price:.05,decimals:18},tokenB:{symbol:"ETH",balance:"5.25",price:2500,decimals:18},poolInfo:{tvl:"125K",volume24h:"15K",fees24h:"45",apr:"18.2",tokenAReserve:"2,500,000",tokenBReserve:"50",lpTokenSupply:"11,180"},userPosition:{lpTokens:"0",tokenAAmount:"0",tokenBAmount:"0",shareOfPool:"0",value:"0"}}},P={args:{...k.args,loading:!0}},T={render:()=>({components:{LiquidityPool:S},template:`
      <div class="space-y-6">
        <div class="text-center">
          <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">
            Interactive Liquidity Pool
          </h3>
          <p class="text-sm text-gray-600 dark:text-gray-400">
            Add or remove liquidity and see real-time calculations
          </p>
        </div>

        <LiquidityPool
          :token-a="tokenA"
          :token-b="tokenB"
          :pool-info="poolInfo"
          :user-position="userPosition"
          :fees="fees"
          :loading="loading"
          title="Interactive ETH/USDC Pool"
          subtitle="Live liquidity management with price impact warnings"
          @add-liquidity="handleAddLiquidity"
          @remove-liquidity="handleRemoveLiquidity"
          @approve="handleApprove"
        />

        <div v-if="lastAction" class="rounded-lg bg-gray-100 p-3 dark:bg-gray-800">
          <div class="text-sm font-medium text-gray-700 dark:text-gray-300">Last Action:</div>
          <pre class="mt-1 text-xs text-gray-600 dark:text-gray-400">{{ lastAction }}</pre>
        </div>
      </div>
    `,data(){return{tokenA:{symbol:"ETH",balance:"5.25",price:2500,decimals:18},tokenB:{symbol:"USDC",balance:"15000",price:1,decimals:6},poolInfo:{tvl:"125.8M",volume24h:"45.2M",fees24h:"135,600",apr:"12.5",tokenAReserve:"50,240",tokenBReserve:"125,600,000",lpTokenSupply:"2,234,567"},userPosition:{lpTokens:"1,250",tokenAAmount:"2.1",tokenBAmount:"5,250",shareOfPool:"0.056",value:"13,125"},fees:{trading:"0.3",protocol:"0.05",liquidity:"0.25"},loading:!1,lastAction:null}},methods:{async handleAddLiquidity(t){this.loading=!0,this.lastAction=`Adding ${t.tokenAAmount} ${t.tokenA.symbol} + ${t.tokenBAmount} ${t.tokenB.symbol}...`,setTimeout(()=>{const L=parseFloat(this.userPosition.lpTokens)+parseFloat(t.expectedLpTokens||"100");this.userPosition.lpTokens=L.toString(),this.userPosition.tokenAAmount=(parseFloat(this.userPosition.tokenAAmount)+parseFloat(t.tokenAAmount)).toString(),this.userPosition.tokenBAmount=(parseFloat(this.userPosition.tokenBAmount)+parseFloat(t.tokenBAmount)).toString(),this.tokenA.balance=(parseFloat(this.tokenA.balance)-parseFloat(t.tokenAAmount)).toString(),this.tokenB.balance=(parseFloat(this.tokenB.balance)-parseFloat(t.tokenBAmount)).toString(),this.loading=!1,this.lastAction=`Successfully added liquidity! Received ${t.expectedLpTokens||"100"} LP tokens`},3e3)},async handleRemoveLiquidity(t){this.loading=!0,this.lastAction=`Removing ${t.lpTokens} LP tokens...`,setTimeout(()=>{this.userPosition.lpTokens=(parseFloat(this.userPosition.lpTokens)-parseFloat(t.lpTokens)).toString(),this.tokenA.balance=(parseFloat(this.tokenA.balance)+parseFloat(t.expectedTokenA||"1")).toString(),this.tokenB.balance=(parseFloat(this.tokenB.balance)+parseFloat(t.expectedTokenB||"2500")).toString(),this.loading=!1,this.lastAction=`Successfully removed liquidity! Received ${t.expectedTokenA||"1"} ${this.tokenA.symbol} + ${t.expectedTokenB||"2500"} ${this.tokenB.symbol}`},3e3)},async handleApprove(t){this.lastAction=`Approving ${t.token.symbol} for liquidity operations...`,setTimeout(()=>{this.lastAction=`Successfully approved ${t.token.symbol}!`},2e3)}}})},B={parameters:{backgrounds:{default:"dark"}},render:()=>({components:{LiquidityPool:S},template:`
      <div class="dark">
        <div class="min-h-screen bg-gray-900 p-8">
          <LiquidityPool
            :token-a="{
              symbol: 'ETH',
              balance: '5.25',
              price: 2500,
              decimals: 18
            }"
            :token-b="{
              symbol: 'USDC',
              balance: '15000',
              price: 1,
              decimals: 6
            }"
            :pool-info="{
              tvl: '125.8M',
              volume24h: '45.2M',
              fees24h: '135,600',
              apr: '12.5',
              tokenAReserve: '50,240',
              tokenBReserve: '125,600,000',
              lpTokenSupply: '2,234,567'
            }"
            :user-position="{
              lpTokens: '1,250',
              tokenAAmount: '2.1',
              tokenBAmount: '5,250',
              shareOfPool: '0.056',
              value: '13,125'
            }"
            :fees="{
              trading: '0.3',
              protocol: '0.05',
              liquidity: '0.25'
            }"
            title="🌙 Night Mode LP"
            subtitle="Beautiful dark theme liquidity interface"
            :show-impermanent-loss="true"
            :show-price-impact="true"
          />
        </div>
      </div>
    `})};var U,N,O;k.parameters={...k.parameters,docs:{...(U=k.parameters)==null?void 0:U.docs,source:{originalSource:`{
  args: {
    title: 'ETH/USDC Pool',
    subtitle: 'High liquidity trading pair with 0.3% fees',
    tokenA: {
      symbol: 'ETH',
      balance: '5.25',
      price: 2500,
      decimals: 18
    },
    tokenB: {
      symbol: 'USDC',
      balance: '15000',
      price: 1,
      decimals: 6
    },
    poolInfo: {
      tvl: '125.8M',
      volume24h: '45.2M',
      fees24h: '135,600',
      apr: '12.5',
      tokenAReserve: '50,240',
      tokenBReserve: '125,600,000',
      lpTokenSupply: '2,234,567'
    },
    userPosition: {
      lpTokens: '1,250',
      tokenAAmount: '2.1',
      tokenBAmount: '5,250',
      shareOfPool: '0.056',
      value: '13,125'
    },
    fees: {
      trading: '0.3',
      protocol: '0.05',
      liquidity: '0.25'
    },
    showImpermanentLoss: true,
    showPriceImpact: true,
    loading: false
  }
}`,...(O=(N=k.parameters)==null?void 0:N.docs)==null?void 0:O.source}}};var W,z,K;x.parameters={...x.parameters,docs:{...(W=x.parameters)==null?void 0:W.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    title: 'Add Liquidity - ETH/USDC',
    subtitle: 'Start earning fees by providing liquidity',
    userPosition: {
      lpTokens: '0',
      tokenAAmount: '0',
      tokenBAmount: '0',
      shareOfPool: '0',
      value: '0'
    }
  }
}`,...(K=(z=x.parameters)==null?void 0:z.docs)==null?void 0:K.source}}};var Y,X,G;h.parameters={...h.parameters,docs:{...(Y=h.parameters)==null?void 0:Y.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    title: 'SUPA/ETH Pool',
    subtitle: 'High volatility pair - higher risk, higher rewards',
    tokenA: {
      symbol: 'SUPA',
      balance: '10000',
      price: 25,
      decimals: 18
    },
    tokenB: {
      symbol: 'ETH',
      balance: '5.25',
      price: 2500,
      decimals: 18
    },
    poolInfo: {
      tvl: '2.8M',
      volume24h: '850K',
      fees24h: '2,550',
      apr: '45.8',
      tokenAReserve: '112,000',
      tokenBReserve: '1,120',
      lpTokenSupply: '11,200'
    },
    userPosition: {
      lpTokens: '500',
      tokenAAmount: '5000',
      tokenBAmount: '5',
      shareOfPool: '4.46',
      value: '37,500'
    }
  }
}`,...(G=(X=h.parameters)==null?void 0:X.docs)==null?void 0:G.source}}};var J,Q,Z;A.parameters={...A.parameters,docs:{...(J=A.parameters)==null?void 0:J.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    title: 'USDC/DAI Pool',
    subtitle: 'Stable trading pair with minimal impermanent loss',
    tokenA: {
      symbol: 'USDC',
      balance: '50000',
      price: 1,
      decimals: 6
    },
    tokenB: {
      symbol: 'DAI',
      balance: '50000',
      price: 0.999,
      decimals: 18
    },
    poolInfo: {
      tvl: '89.2M',
      volume24h: '12.3M',
      fees24h: '36,900',
      apr: '5.2',
      tokenAReserve: '44,600,000',
      tokenBReserve: '44,644,400',
      lpTokenSupply: '44,622,200'
    },
    userPosition: {
      lpTokens: '25000',
      tokenAAmount: '25000',
      tokenBAmount: '25011',
      shareOfPool: '0.056',
      value: '50,011'
    }
  }
}`,...(Z=(Q=A.parameters)==null?void 0:Q.docs)==null?void 0:Z.source}}};var _,ee,te;w.parameters={...w.parameters,docs:{...(_=w.parameters)==null?void 0:_.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    title: 'NEW/ETH Pool',
    subtitle: 'New token pair - low liquidity, high price impact',
    tokenA: {
      symbol: 'NEW',
      balance: '1000000',
      price: 0.05,
      decimals: 18
    },
    tokenB: {
      symbol: 'ETH',
      balance: '5.25',
      price: 2500,
      decimals: 18
    },
    poolInfo: {
      tvl: '125K',
      volume24h: '15K',
      fees24h: '45',
      apr: '18.2',
      tokenAReserve: '2,500,000',
      tokenBReserve: '50',
      lpTokenSupply: '11,180'
    },
    userPosition: {
      lpTokens: '0',
      tokenAAmount: '0',
      tokenBAmount: '0',
      shareOfPool: '0',
      value: '0'
    }
  }
}`,...(te=(ee=w.parameters)==null?void 0:ee.docs)==null?void 0:te.source}}};var oe,ne,ae;P.parameters={...P.parameters,docs:{...(oe=P.parameters)==null?void 0:oe.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    loading: true
  }
}`,...(ae=(ne=P.parameters)==null?void 0:ne.docs)==null?void 0:ae.source}}};var se,le,ie;T.parameters={...T.parameters,docs:{...(se=T.parameters)==null?void 0:se.docs,source:{originalSource:`{
  render: () => ({
    components: {
      LiquidityPool
    },
    template: \`
      <div class="space-y-6">
        <div class="text-center">
          <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">
            Interactive Liquidity Pool
          </h3>
          <p class="text-sm text-gray-600 dark:text-gray-400">
            Add or remove liquidity and see real-time calculations
          </p>
        </div>

        <LiquidityPool
          :token-a="tokenA"
          :token-b="tokenB"
          :pool-info="poolInfo"
          :user-position="userPosition"
          :fees="fees"
          :loading="loading"
          title="Interactive ETH/USDC Pool"
          subtitle="Live liquidity management with price impact warnings"
          @add-liquidity="handleAddLiquidity"
          @remove-liquidity="handleRemoveLiquidity"
          @approve="handleApprove"
        />

        <div v-if="lastAction" class="rounded-lg bg-gray-100 p-3 dark:bg-gray-800">
          <div class="text-sm font-medium text-gray-700 dark:text-gray-300">Last Action:</div>
          <pre class="mt-1 text-xs text-gray-600 dark:text-gray-400">{{ lastAction }}</pre>
        </div>
      </div>
    \`,
    data() {
      return {
        tokenA: {
          symbol: 'ETH',
          balance: '5.25',
          price: 2500,
          decimals: 18
        },
        tokenB: {
          symbol: 'USDC',
          balance: '15000',
          price: 1,
          decimals: 6
        },
        poolInfo: {
          tvl: '125.8M',
          volume24h: '45.2M',
          fees24h: '135,600',
          apr: '12.5',
          tokenAReserve: '50,240',
          tokenBReserve: '125,600,000',
          lpTokenSupply: '2,234,567'
        },
        userPosition: {
          lpTokens: '1,250',
          tokenAAmount: '2.1',
          tokenBAmount: '5,250',
          shareOfPool: '0.056',
          value: '13,125'
        },
        fees: {
          trading: '0.3',
          protocol: '0.05',
          liquidity: '0.25'
        },
        loading: false,
        lastAction: null
      };
    },
    methods: {
      async handleAddLiquidity(data) {
        this.loading = true;
        this.lastAction = \`Adding \${data.tokenAAmount} \${data.tokenA.symbol} + \${data.tokenBAmount} \${data.tokenB.symbol}...\`;
        setTimeout(() => {
          const newLpTokens = parseFloat(this.userPosition.lpTokens) + parseFloat(data.expectedLpTokens || '100');
          this.userPosition.lpTokens = newLpTokens.toString();
          this.userPosition.tokenAAmount = (parseFloat(this.userPosition.tokenAAmount) + parseFloat(data.tokenAAmount)).toString();
          this.userPosition.tokenBAmount = (parseFloat(this.userPosition.tokenBAmount) + parseFloat(data.tokenBAmount)).toString();
          this.tokenA.balance = (parseFloat(this.tokenA.balance) - parseFloat(data.tokenAAmount)).toString();
          this.tokenB.balance = (parseFloat(this.tokenB.balance) - parseFloat(data.tokenBAmount)).toString();
          this.loading = false;
          this.lastAction = \`Successfully added liquidity! Received \${data.expectedLpTokens || '100'} LP tokens\`;
        }, 3000);
      },
      async handleRemoveLiquidity(data) {
        this.loading = true;
        this.lastAction = \`Removing \${data.lpTokens} LP tokens...\`;
        setTimeout(() => {
          this.userPosition.lpTokens = (parseFloat(this.userPosition.lpTokens) - parseFloat(data.lpTokens)).toString();
          this.tokenA.balance = (parseFloat(this.tokenA.balance) + parseFloat(data.expectedTokenA || '1')).toString();
          this.tokenB.balance = (parseFloat(this.tokenB.balance) + parseFloat(data.expectedTokenB || '2500')).toString();
          this.loading = false;
          this.lastAction = \`Successfully removed liquidity! Received \${data.expectedTokenA || '1'} \${this.tokenA.symbol} + \${data.expectedTokenB || '2500'} \${this.tokenB.symbol}\`;
        }, 3000);
      },
      async handleApprove(data) {
        this.lastAction = \`Approving \${data.token.symbol} for liquidity operations...\`;
        setTimeout(() => {
          this.lastAction = \`Successfully approved \${data.token.symbol}!\`;
        }, 2000);
      }
    }
  })
}`,...(ie=(le=T.parameters)==null?void 0:le.docs)==null?void 0:ie.source}}};var re,de,ue;B.parameters={...B.parameters,docs:{...(re=B.parameters)==null?void 0:re.docs,source:{originalSource:`{
  parameters: {
    backgrounds: {
      default: 'dark'
    }
  },
  render: () => ({
    components: {
      LiquidityPool
    },
    template: \`
      <div class="dark">
        <div class="min-h-screen bg-gray-900 p-8">
          <LiquidityPool
            :token-a="{
              symbol: 'ETH',
              balance: '5.25',
              price: 2500,
              decimals: 18
            }"
            :token-b="{
              symbol: 'USDC',
              balance: '15000',
              price: 1,
              decimals: 6
            }"
            :pool-info="{
              tvl: '125.8M',
              volume24h: '45.2M',
              fees24h: '135,600',
              apr: '12.5',
              tokenAReserve: '50,240',
              tokenBReserve: '125,600,000',
              lpTokenSupply: '2,234,567'
            }"
            :user-position="{
              lpTokens: '1,250',
              tokenAAmount: '2.1',
              tokenBAmount: '5,250',
              shareOfPool: '0.056',
              value: '13,125'
            }"
            :fees="{
              trading: '0.3',
              protocol: '0.05',
              liquidity: '0.25'
            }"
            title="🌙 Night Mode LP"
            subtitle="Beautiful dark theme liquidity interface"
            :show-impermanent-loss="true"
            :show-price-impact="true"
          />
        </div>
      </div>
    \`
  })
}`,...(ue=(de=B.parameters)==null?void 0:de.docs)==null?void 0:ue.source}}};const uo=["Default","NewPosition","HighVolatility","StablecoinPair","LowLiquidity","Loading","Interactive","DarkMode"];export{B as DarkMode,k as Default,h as HighVolatility,T as Interactive,P as Loading,w as LowLiquidity,x as NewPosition,A as StablecoinPair,uo as __namedExportsOrder,ro as default};
