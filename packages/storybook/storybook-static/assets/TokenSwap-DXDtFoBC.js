import{r as g,c as d,i as S,b as p,f as e,d as f,t as l,w as b,F as P,g as R,v as k,e as F,n as x,h as m}from"./vue.esm-bundler-DxM0YtBV.js";import{_ as B}from"./Web3Icon-CMoc-ptT.js";const H={class:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm dark:border-gray-700 dark:bg-gray-800"},L={class:"mb-4 flex items-center justify-between"},O={class:"text-lg font-semibold text-gray-900 dark:text-white"},q={key:0,class:"mb-4 rounded-lg bg-gray-50 p-3 dark:bg-gray-900/50"},G={class:"space-y-3"},J={class:"flex space-x-2"},K=["onClick"],Q={class:"mb-2"},W={class:"flex items-center justify-between mb-1"},X={class:"text-xs text-gray-500 dark:text-gray-500"},Y={class:"flex space-x-3 rounded-xl bg-gray-50 p-3 dark:bg-gray-900/50"},Z={class:"flex-1"},ee={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},te={class:"font-medium text-gray-900 dark:text-white"},ae={class:"mb-4"},oe={class:"flex items-center justify-between mb-1"},se={class:"text-xs text-gray-500 dark:text-gray-500"},ne={class:"flex space-x-3 rounded-xl bg-gray-50 p-3 dark:bg-gray-900/50"},le={class:"flex-1"},re=["disabled"],ue={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},de={class:"font-medium text-gray-900 dark:text-white"},ie={key:1,class:"mb-4 space-y-2 rounded-lg bg-gray-50 p-3 text-sm dark:bg-gray-900/50"},me={class:"flex justify-between"},ce={class:"font-medium text-gray-900 dark:text-white"},ye={class:"flex justify-between"},ge={class:"flex justify-between"},pe={class:"font-medium text-gray-900 dark:text-white"},fe={class:"flex justify-between"},be={class:"font-medium text-gray-900 dark:text-white"},ke=["disabled"],xe={key:2,class:"mt-3 text-center text-xs text-gray-500 dark:text-gray-400"},ve={__name:"TokenSwap",props:{title:{type:String,default:"Swap"},fromToken:{type:Object,default:()=>({symbol:"ETH",name:"Ethereum",balance:"10.5",price:2500})},toToken:{type:Object,default:()=>({symbol:"USDC",name:"USD Coin",balance:"1000",price:1})},defaultSlippage:{type:Number,default:.5},defaultDeadline:{type:Number,default:20},rate:{type:Number,default:2500},priceImpact:{type:Number,default:.05},networkFee:{type:String,default:"2.50"},poweredBy:{type:String,default:""},disabled:{type:Boolean,default:!1},className:{type:String,default:""}},emits:["swap","select-from-token","select-to-token","settings-change"],setup(n,{emit:C}){const a=n,c=C,v=g(!1),s=g(""),r=g(""),i=g(a.defaultSlippage),y=g(a.defaultDeadline),j=[.1,.5,1],w=d(()=>{var o;return((o=a.fromToken)==null?void 0:o.balance)||"0"}),V=d(()=>{var o;return((o=a.toToken)==null?void 0:o.balance)||"0"}),D=d(()=>{var o;return!s.value||!((o=a.fromToken)!=null&&o.price)?"0.00":(parseFloat(s.value)*a.fromToken.price).toFixed(2)}),N=d(()=>{var o;return!r.value||!((o=a.toToken)!=null&&o.price)?"0.00":(parseFloat(r.value)*a.toToken.price).toFixed(2)}),U=d(()=>{const o=Math.abs(a.priceImpact);return o<1?"text-green-600 dark:text-green-400":o<3?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"}),A=d(()=>{var o,t;return(o=a.fromToken)!=null&&o.symbol&&((t=a.toToken)!=null&&t.symbol)?`${a.fromToken.symbol} → ${a.toToken.symbol}`:"Direct"}),h=d(()=>{var o,t;return!a.disabled&&s.value&&r.value&&parseFloat(s.value)>0&&parseFloat(r.value)>0&&((o=a.fromToken)==null?void 0:o.symbol)&&((t=a.toToken)==null?void 0:t.symbol)&&parseFloat(s.value)<=parseFloat(w.value)}),I=d(()=>{var o,t;return a.disabled?"Swap Disabled":!((o=a.fromToken)!=null&&o.symbol)||!((t=a.toToken)!=null&&t.symbol)?"Select Tokens":!s.value||parseFloat(s.value)===0?"Enter Amount":parseFloat(s.value)>parseFloat(w.value)?"Insufficient Balance":"Swap"}),T=()=>{s.value&&a.rate?r.value=(parseFloat(s.value)*a.rate).toFixed(6):r.value=""},_=()=>{r.value&&a.rate&&(s.value=(parseFloat(r.value)/a.rate).toFixed(6))},$=()=>{c("swap",{type:"reverse",fromToken:a.toToken,toToken:a.fromToken});const o=s.value;s.value=r.value,r.value=o},M=()=>{c("select-from-token")},E=()=>{c("select-to-token")},z=()=>{h.value&&c("swap",{type:"execute",fromToken:a.fromToken,toToken:a.toToken,fromAmount:s.value,toAmount:r.value,slippage:i.value,deadline:y.value})};return S([i,y],()=>{c("settings-change",{slippage:i.value,deadline:y.value})}),S(()=>a.rate,()=>{s.value&&T()}),(o,t)=>(m(),p("div",{class:x(["token-swap",n.className])},[e("div",H,[e("div",L,[e("h3",O,l(n.title||"Swap"),1),e("button",{onClick:t[0]||(t[0]=u=>v.value=!v.value),class:"rounded-lg p-2 text-gray-600 transition-colors hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700"},[...t[5]||(t[5]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)])])]),v.value?(m(),p("div",q,[e("div",G,[e("div",null,[t[6]||(t[6]=e("label",{class:"mb-1 block text-xs font-medium text-gray-700 dark:text-gray-300"}," Slippage Tolerance ",-1)),e("div",J,[(m(),p(P,null,R(j,u=>e("button",{key:u,onClick:we=>i.value=u,class:x(["rounded px-3 py-1 text-sm font-medium transition-colors",i.value===u?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"])},l(u)+"% ",11,K)),64)),b(e("input",{"onUpdate:modelValue":t[1]||(t[1]=u=>i.value=u),type:"number",step:"0.1",min:"0",max:"50",class:"w-20 rounded border border-gray-300 px-2 py-1 text-sm focus:border-blue-500 focus:outline-none dark:border-gray-600 dark:bg-gray-700 dark:text-white",placeholder:"Custom"},null,512),[[k,i.value,void 0,{number:!0}]])])]),e("div",null,[t[7]||(t[7]=e("label",{class:"mb-1 block text-xs font-medium text-gray-700 dark:text-gray-300"}," Transaction Deadline (minutes) ",-1)),b(e("input",{"onUpdate:modelValue":t[2]||(t[2]=u=>y.value=u),type:"number",min:"1",max:"60",class:"w-24 rounded border border-gray-300 px-3 py-1 text-sm focus:border-blue-500 focus:outline-none dark:border-gray-600 dark:bg-gray-700 dark:text-white"},null,512),[[k,y.value,void 0,{number:!0}]])])])])):f("",!0),e("div",Q,[e("div",W,[t[8]||(t[8]=e("label",{class:"text-sm text-gray-600 dark:text-gray-400"},"From",-1)),e("span",X," Balance: "+l(w.value),1)]),e("div",Y,[e("div",Z,[b(e("input",{"onUpdate:modelValue":t[3]||(t[3]=u=>s.value=u),type:"number",placeholder:"0.0",class:"w-full bg-transparent text-2xl font-medium text-gray-900 placeholder-gray-400 focus:outline-none dark:text-white",onInput:T},null,544),[[k,s.value]]),e("div",ee," ≈ $"+l(D.value),1)]),e("button",{onClick:M,class:"flex items-center space-x-2 rounded-lg bg-white px-3 py-2 transition-colors hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700"},[n.fromToken.symbol?(m(),F(B,{key:0,type:"tokens",symbol:n.fromToken.symbol,size:24},null,8,["symbol"])):f("",!0),e("span",te,l(n.fromToken.symbol||"Select"),1),t[9]||(t[9]=e("svg",{class:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1))])])]),e("div",{class:"flex justify-center py-2"},[e("button",{onClick:$,class:"rounded-full bg-gray-100 p-2 transition-all hover:bg-gray-200 hover:rotate-180 dark:bg-gray-700 dark:hover:bg-gray-600"},[...t[10]||(t[10]=[e("svg",{class:"h-5 w-5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})],-1)])])]),e("div",ae,[e("div",oe,[t[11]||(t[11]=e("label",{class:"text-sm text-gray-600 dark:text-gray-400"},"To",-1)),e("span",se," Balance: "+l(V.value),1)]),e("div",ne,[e("div",le,[b(e("input",{"onUpdate:modelValue":t[4]||(t[4]=u=>r.value=u),type:"number",placeholder:"0.0",class:"w-full bg-transparent text-2xl font-medium text-gray-900 placeholder-gray-400 focus:outline-none dark:text-white",disabled:!s.value,onInput:_},null,40,re),[[k,r.value]]),e("div",ue," ≈ $"+l(N.value),1)]),e("button",{onClick:E,class:"flex items-center space-x-2 rounded-lg bg-white px-3 py-2 transition-colors hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700"},[n.toToken.symbol?(m(),F(B,{key:0,type:"tokens",symbol:n.toToken.symbol,size:24},null,8,["symbol"])):f("",!0),e("span",de,l(n.toToken.symbol||"Select"),1),t[12]||(t[12]=e("svg",{class:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1))])])]),s.value&&r.value&&n.rate?(m(),p("div",ie,[e("div",me,[t[13]||(t[13]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Rate",-1)),e("span",ce," 1 "+l(n.fromToken.symbol)+" = "+l(n.rate)+" "+l(n.toToken.symbol),1)]),e("div",ye,[t[14]||(t[14]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Price Impact",-1)),e("span",{class:x(U.value)},l(n.priceImpact)+"% ",3)]),e("div",ge,[t[15]||(t[15]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Network Fee",-1)),e("span",pe," ~$"+l(n.networkFee),1)]),e("div",fe,[t[16]||(t[16]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Route",-1)),e("span",be,l(A.value),1)])])):f("",!0),e("button",{onClick:z,disabled:!h.value,class:x(["w-full rounded-lg px-4 py-3 text-center font-semibold transition-colors",h.value?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-200 text-gray-500 cursor-not-allowed dark:bg-gray-700 dark:text-gray-400"])},l(I.value),11,ke),n.poweredBy?(m(),p("div",xe," Powered by "+l(n.poweredBy),1)):f("",!0)])],2))}};ve.__docgenInfo={exportName:"default",displayName:"TokenSwap",description:"",tags:{},props:[{name:"title",type:{name:"string"},defaultValue:{func:!1,value:"'Swap'"}},{name:"fromToken",type:{name:"object"},defaultValue:{func:!1,value:`{
  symbol: 'ETH',
  name: 'Ethereum',
  balance: '10.5',
  price: 2500
}`}},{name:"toToken",type:{name:"object"},defaultValue:{func:!1,value:`{
  symbol: 'USDC',
  name: 'USD Coin',
  balance: '1000',
  price: 1
}`}},{name:"defaultSlippage",type:{name:"number"},defaultValue:{func:!1,value:"0.5"}},{name:"defaultDeadline",type:{name:"number"},defaultValue:{func:!1,value:"20"}},{name:"rate",type:{name:"number"},defaultValue:{func:!1,value:"2500"}},{name:"priceImpact",type:{name:"number"},defaultValue:{func:!1,value:"0.05"}},{name:"networkFee",type:{name:"string"},defaultValue:{func:!1,value:"'2.50'"}},{name:"poweredBy",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"disabled",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"className",type:{name:"string"},defaultValue:{func:!1,value:"''"}}],events:[{name:"swap"},{name:"select-from-token"},{name:"select-to-token"},{name:"settings-change"}],sourceFiles:["/Users/steve/Projects/tnp.web.supaweb3/packages/ui/src/components/tokens/TokenSwap.vue"]};export{ve as _};
