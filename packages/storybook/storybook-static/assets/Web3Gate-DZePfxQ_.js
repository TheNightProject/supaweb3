import{c as o,o as q,i as z,b as l,j as m,d,f as a,p as D,n as r,t as i,e as G,q as W,F as I,g as P,h as n}from"./vue.esm-bundler-DxM0YtBV.js";const H={key:0},L={key:1,class:"relative"},R={key:0,class:"absolute inset-0 bg-gradient-to-t from-gray-900/20 to-transparent pointer-events-auto"},U={key:0,class:"space-y-4"},Y={class:"text-gray-600 dark:text-gray-400"},E={key:1,class:"space-y-4"},O={class:"flex justify-center"},K={class:"text-lg font-semibold text-gray-900 dark:text-white"},J={class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},Q={key:0,class:"space-y-2"},X={class:"flex items-center space-x-2"},Z={key:0,class:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20"},_={key:1,class:"text-xs"},ee={key:1,class:"rounded-lg bg-yellow-50 p-3 dark:bg-yellow-900/20"},te={class:"flex items-center space-x-2"},ae={class:"text-sm text-yellow-700 dark:text-yellow-400"},ne=["disabled"],le={key:3},se={__name:"Web3Gate",props:{gateType:{type:String,default:"wallet",validator:t=>["wallet","token","nft","custom"].includes(t)},requirements:{type:Array,default:()=>[]},tokenAddress:{type:String,default:""},minTokenBalance:{type:String,default:"0"},tokenSymbol:{type:String,default:"TOKEN"},nftAddress:{type:String,default:""},nftName:{type:String,default:"NFT"},showPreview:{type:Boolean,default:!0},blurContent:{type:Boolean,default:!0},blurAmount:{type:Number,default:8},hideContent:{type:Boolean,default:!1},gateTitle:{type:String,default:""},gateDescription:{type:String,default:""},actionButtonText:{type:String,default:""},showRequirements:{type:Boolean,default:!0},showActionButton:{type:Boolean,default:!0},isConnected:{type:Boolean,default:!1},userAddress:{type:String,default:""},userTokenBalance:{type:String,default:"0"},userNFTBalance:{type:Number,default:0},loading:{type:Boolean,default:!1},loadingText:{type:String,default:"Checking requirements..."},currentStatus:{type:String,default:""},overlayStyle:{type:String,default:"glass",validator:t=>["glass","solid","minimal"].includes(t)},className:{type:String,default:""}},emits:["unlock","connect-wallet","check-requirements"],setup(t,{emit:p}){const e=t,f=p,b=o(()=>{switch(e.gateType){case"wallet":return e.isConnected&&e.userAddress;case"token":return e.isConnected&&parseFloat(e.userTokenBalance)>=parseFloat(e.minTokenBalance);case"nft":return e.isConnected&&e.userNFTBalance>0;case"custom":return e.requirements.every(s=>s.met);default:return!1}}),g=o(()=>!!(e.loading||e.gateType==="wallet"&&e.isConnected)),h=o(()=>{switch(e.gateType){case"wallet":return e.isConnected?"Wallet Connected":"Connect Your Wallet";case"token":return`Hold ${e.tokenSymbol} to Access`;case"nft":return`${e.nftName} Holders Only`;case"custom":return"Access Restricted";default:return"Gated Content"}}),w=o(()=>{switch(e.gateType){case"wallet":return e.isConnected?"Your wallet is connected but you don't meet the requirements":"Please connect your wallet to access this content";case"token":return`You need at least ${e.minTokenBalance} ${e.tokenSymbol} to access this content`;case"nft":return`You must own at least one ${e.nftName} NFT to access this content`;case"custom":return"Meet all requirements to unlock this content";default:return"This content is restricted"}}),x=o(()=>{switch(e.gateType){case"wallet":return e.isConnected?"Wallet Connected":"Connect Wallet";case"token":return`Get ${e.tokenSymbol}`;case"nft":return`Get ${e.nftName}`;case"custom":return"Unlock Content";default:return"Unlock"}}),C=o(()=>e.gateTitle||h.value),T=o(()=>e.gateDescription||w.value),B=o(()=>e.actionButtonText||x.value),S=o(()=>({wallet:j,token:M,nft:F,custom:k})[e.gateType]||k),V=o(()=>{const s={wallet:"bg-blue-100 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400",token:"bg-purple-100 text-purple-600 dark:bg-purple-900/20 dark:text-purple-400",nft:"bg-pink-100 text-pink-600 dark:bg-pink-900/20 dark:text-pink-400",custom:"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400"};return s[e.gateType]||s.custom}),N=o(()=>{if(!e.showPreview||e.hideContent)return"";const s="backdrop-filter",u={glass:"backdrop-blur-sm bg-white/80 dark:bg-gray-900/80",solid:"bg-white dark:bg-gray-900",minimal:"bg-white/95 dark:bg-gray-900/95"};return`${s} ${u[e.overlayStyle]||u.glass}`}),A=o(()=>{const s={glass:"bg-white/90 dark:bg-gray-800/90 backdrop-blur rounded-xl shadow-xl border border-gray-200 dark:border-gray-700",solid:"bg-white dark:bg-gray-800 rounded-xl shadow-xl",minimal:"bg-transparent"};return s[e.overlayStyle]||s.glass}),$=()=>{switch(e.gateType){case"wallet":e.isConnected||f("connect-wallet");break;case"token":case"nft":case"custom":f("unlock",{gateType:e.gateType});break}},y=()=>{f("check-requirements")};q(()=>{y()}),z([()=>e.isConnected,()=>e.userTokenBalance,()=>e.userNFTBalance],()=>{y()});const j={template:`
    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" />
    </svg>
  `},M={template:`
    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
    </svg>
  `},F={template:`
    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
    </svg>
  `},k={template:`
    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
    </svg>
  `};return(s,u)=>(n(),l("div",{class:r(["web3-gate",t.className])},[b.value&&!t.loading?(n(),l("div",H,[m(s.$slots,"default")])):(n(),l("div",L,[t.showPreview&&!t.hideContent?(n(),l("div",{key:0,class:r(["relative overflow-hidden rounded-lg",t.blurContent?"select-none":""]),style:D(t.blurContent?`filter: blur(${t.blurAmount}px)`:"")},[m(s.$slots,"default"),t.blurContent?(n(),l("div",R)):d("",!0)],6)):d("",!0),a("div",{class:r(["flex items-center justify-center",t.showPreview&&!t.hideContent?"absolute inset-0":"relative",N.value])},[a("div",{class:r(["w-full max-w-md p-6 text-center",A.value])},[t.loading?(n(),l("div",U,[u[0]||(u[0]=a("div",{class:"flex justify-center"},[a("div",{class:"h-12 w-12 animate-spin rounded-full border-4 border-blue-500 border-t-transparent"})],-1)),a("div",Y,i(t.loadingText),1)])):(n(),l("div",E,[a("div",O,[a("div",{class:r(["flex h-16 w-16 items-center justify-center rounded-full",V.value])},[(n(),G(W(S.value),{class:"h-8 w-8"}))],2)]),a("div",null,[a("h3",K,i(C.value),1),a("p",J,i(T.value),1)]),t.showRequirements&&t.requirements.length>0?(n(),l("div",Q,[(n(!0),l(I,null,P(t.requirements,(c,v)=>(n(),l("div",{key:v,class:r(["flex items-center justify-between rounded-lg p-3 text-sm",c.met?"bg-green-50 dark:bg-green-900/20":"bg-gray-50 dark:bg-gray-800"])},[a("div",X,[a("div",{class:r(["h-5 w-5 rounded-full flex items-center justify-center",c.met?"bg-green-500 text-white":"bg-gray-300 dark:bg-gray-600"])},[c.met?(n(),l("svg",Z,[...u[1]||(u[1]=[a("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])])):(n(),l("span",_,i(v+1),1))],2),a("span",{class:r(c.met?"text-green-700 dark:text-green-400":"text-gray-700 dark:text-gray-300")},i(c.label),3)]),c.value?(n(),l("span",{key:0,class:r(["text-xs font-medium",c.met?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"])},i(c.value),3)):d("",!0)],2))),128))])):d("",!0),t.currentStatus?(n(),l("div",ee,[a("div",te,[u[2]||(u[2]=a("svg",{class:"h-5 w-5 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),a("span",ae,i(t.currentStatus),1)])])):d("",!0),t.showActionButton?(n(),l("button",{key:2,onClick:$,disabled:g.value,class:r(["w-full rounded-lg px-4 py-3 font-semibold transition-colors",g.value?"bg-gray-200 text-gray-500 cursor-not-allowed dark:bg-gray-700 dark:text-gray-400":"bg-blue-500 text-white hover:bg-blue-600"])},i(B.value),11,ne)):d("",!0),s.$slots.actions?(n(),l("div",le,[m(s.$slots,"actions")])):d("",!0)]))],2)],2)]))],2))}};se.__docgenInfo={exportName:"default",displayName:"Web3Gate",description:"",tags:{},props:[{name:"gateType",type:{name:"string"},defaultValue:{func:!1,value:"'wallet'"},values:["wallet","token","nft","custom"]},{name:"requirements",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"tokenAddress",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"minTokenBalance",type:{name:"string"},defaultValue:{func:!1,value:"'0'"}},{name:"tokenSymbol",type:{name:"string"},defaultValue:{func:!1,value:"'TOKEN'"}},{name:"nftAddress",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"nftName",type:{name:"string"},defaultValue:{func:!1,value:"'NFT'"}},{name:"showPreview",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"blurContent",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"blurAmount",type:{name:"number"},defaultValue:{func:!1,value:"8"}},{name:"hideContent",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"gateTitle",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"gateDescription",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"actionButtonText",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"showRequirements",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"showActionButton",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"isConnected",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"userAddress",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"userTokenBalance",type:{name:"string"},defaultValue:{func:!1,value:"'0'"}},{name:"userNFTBalance",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"loading",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"loadingText",type:{name:"string"},defaultValue:{func:!1,value:"'Checking requirements...'"}},{name:"currentStatus",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"overlayStyle",type:{name:"string"},defaultValue:{func:!1,value:"'glass'"},values:["glass","solid","minimal"]},{name:"className",type:{name:"string"},defaultValue:{func:!1,value:"''"}}],events:[{name:"unlock"},{name:"connect-wallet"},{name:"check-requirements"}],slots:[{name:"default"},{name:"actions"}],sourceFiles:["/Users/steve/Projects/tnp.web.supaweb3/packages/ui/src/components/access/Web3Gate.vue"]};export{se as _};
